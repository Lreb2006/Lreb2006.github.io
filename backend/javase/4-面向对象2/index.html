<!-- 

  DEBUG_EXTRA_CLASSES_RAW: 
  DEBUG_EXTRA_CLASSES_JOINED: ""

--> <!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=路人蛃的个人网址><meta name=author content=Lrebin><link href=https://lreb2006.github.io/backend/javase/4-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A12/ rel=canonical><link href=../3-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A11/ rel=prev><link href=../5-%E6%A0%B8%E5%BF%83%E7%B1%BB1/ rel=next><link rel=icon href=../../../img/favoricon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>4 面向对象2 - Lrebin's Site</title><link rel=stylesheet href=../../../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=JetBrains+Mono:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"JetBrains Mono";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../css/custom.css><link rel=stylesheet href=../../../css/card.css><link rel=stylesheet href=../../../css/flink.css><link rel=stylesheet href=../../../css/tasklist.css><link rel=stylesheet href=https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css><link rel=stylesheet href=https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#1-abstract-class class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../.. title="Lrebin's Site" class="md-header__button md-logo" aria-label="Lrebin's Site" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19.5 14.5a.898.898 0 0 0-1 1c0 .67-1 .67-1 0v-2.3l1.7-.5c.72-.34 1.21-1.02 1.3-1.8C20.5 5.5 16.7 2 12 2s-8.5 3.5-8.5 8.9c.06.8.56 1.5 1.3 1.8l1.7.5v2.3a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.898.898 0 0 0-1-1 .898.898 0 0 0-1 1A2.394 2.394 0 0 0 6 18c1.41.06 2.56-1.09 2.5-2.5v-1.8h1v5.7c0 .67-1 .67-1 0a.898.898 0 0 0-1-1 .898.898 0 0 0-1 1A2.4 2.4 0 0 0 9 22c1.41.06 2.56-1.09 2.5-2.5V14h1v5.5A2.394 2.394 0 0 0 15 22c1.41.06 2.56-1.09 2.5-2.5 0-1.33-2-1.33-2 0 0 .67-1 .67-1 0v-5.7h1v1.8c0 1.36 1.13 2.46 2.5 2.4 1.41.06 2.56-1.09 2.5-2.5a.898.898 0 0 0-1-1m-8.9-9.8A5.57 5.57 0 0 0 7 7.3c-.17.2-.5.27-.7.1a.507.507 0 0 1-.1-.7 6.9 6.9 0 0 1 4.2-3c.27-.02.51.15.6.4.06.27-.12.55-.4.6"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Lrebin's Site </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 4 面向对象2 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=indigo aria-label="light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/Lreb2006/Lreb2006.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> Lrebin's Site </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1v16.2c0 22.1-17.9 40-40 40h-16c-1.1 0-2.2 0-3.3-.1-1.4.1-2.8.1-4.2.1L416 512h-24c-22.1 0-40-17.9-40-40v-88c0-17.7-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32v88c0 22.1-17.9 40-40 40h-55.9c-1.5 0-3-.1-4.5-.2-1.2.1-2.4.2-3.6.2h-16c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9.1-2.8v-69.7h-32c-18 0-32-14-32-32.1 0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7l255.4 224.5c8 7 12 15 11 24"/></svg> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../ class=md-tabs__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M88 0C74.7 0 64 10.7 64 24c0 38.9 23.4 59.4 39.1 73.1l1.1 1c16.3 14.2 23.8 21.8 23.8 37.9 0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C119.5 47.7 112 40.1 112 24c0-13.3-10.7-24-24-24M32 192c-17.7 0-32 14.3-32 32v192c0 53 43 96 96 96h192c53 0 96-43 96-96h16c61.9 0 112-50.1 112-112s-50.1-112-112-112H32m352 64h16c26.5 0 48 21.5 48 48s-21.5 48-48 48h-16zM224 24c0-13.3-10.7-24-24-24s-24 10.7-24 24c0 38.9 23.4 59.4 39.1 73.1l1.1 1c16.3 14.2 23.8 21.8 23.8 37.9 0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C231.5 47.7 224 40.1 224 24"/></svg> Backend </a> </li> <li class=md-tabs__item> <a href=../../../notes/ class=md-tabs__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 96C0 43 43 0 96 0h96v190.7c0 13.4 15.5 20.9 26 12.5l54-43.2 54 43.2c10.5 8.4 26 .9 26-12.5V0h64c17.7 0 32 14.3 32 32v320c0 17.7-14.3 32-32 32v64c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-53 0-96-43-96-96zm64 320c0 17.7 14.3 32 32 32h256v-64H96c-17.7 0-32 14.3-32 32"/></svg> Notes </a> </li> <li class=md-tabs__item> <a href=../../../summaries/ class=md-tabs__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M128 0c17.7 0 32 14.3 32 32v32h128V32c0-17.7 14.3-32 32-32s32 14.3 32 32v32h48c26.5 0 48 21.5 48 48v48H0v-48c0-26.5 21.5-48 48-48h48V32c0-17.7 14.3-32 32-32M0 192h448v272c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48zm329 113c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0z"/></svg> Summaries </a> </li> <li class=md-tabs__item> <a href=../../../links/ class=md-tabs__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6 31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5 50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l112.2-112.3c31.5-31.5 82.5-31.5 114 0 27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0z"/></svg> Links </a> </li> <li class=md-tabs__item> <a href=../../../about/ class=md-tabs__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512m96-112h-8v-40h55.3c-3.8 22.7-23.6 40-47.3 40m47.3-56H344v-40h8c23.8 0 43.5 17.3 47.3 40m-71.3 0h-64v-40h64zm0 56h-64v-40h64zm-80-96v40h-64v-40zm0 56v40h-64v-40zm-80-16h-55.3c3.8-22.7 23.6-40 47.3-40h8zm0 56h-8c-23.8 0-43.5-17.3-47.3-40H168zm-23.6-192a32 32 0 1 1 64 0 32 32 0 1 1-64 0m192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64"/></svg> About </a> </li> <li class=md-tabs__item> <a href=../../../blogs/ class=md-tabs__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h224V368c0-26.5 21.5-48 48-48h112V96c0-35.3-28.7-64-64-64zm384 320H336c-8.8 0-16 7.2-16 16v112l32-32 64-64z"/></svg> Blogs </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="Lrebin's Site" class="md-nav__button md-logo" aria-label="Lrebin's Site" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19.5 14.5a.898.898 0 0 0-1 1c0 .67-1 .67-1 0v-2.3l1.7-.5c.72-.34 1.21-1.02 1.3-1.8C20.5 5.5 16.7 2 12 2s-8.5 3.5-8.5 8.9c.06.8.56 1.5 1.3 1.8l1.7.5v2.3a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5.898.898 0 0 0-1-1 .898.898 0 0 0-1 1A2.394 2.394 0 0 0 6 18c1.41.06 2.56-1.09 2.5-2.5v-1.8h1v5.7c0 .67-1 .67-1 0a.898.898 0 0 0-1-1 .898.898 0 0 0-1 1A2.4 2.4 0 0 0 9 22c1.41.06 2.56-1.09 2.5-2.5V14h1v5.5A2.394 2.394 0 0 0 15 22c1.41.06 2.56-1.09 2.5-2.5 0-1.33-2-1.33-2 0 0 .67-1 .67-1 0v-5.7h1v1.8c0 1.36 1.13 2.46 2.5 2.4 1.41.06 2.56-1.09 2.5-2.5a.898.898 0 0 0-1-1m-8.9-9.8A5.57 5.57 0 0 0 7 7.3c-.17.2-.5.27-.7.1a.507.507 0 0 1-.1-.7 6.9 6.9 0 0 1 4.2-3c.27-.02.51.15.6.4.06.27-.12.55-.4.6"/></svg> </a> Lrebin's Site </label> <div class=md-nav__source> <a href=https://github.com/Lreb2006/Lreb2006.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> Lrebin's Site </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1v16.2c0 22.1-17.9 40-40 40h-16c-1.1 0-2.2 0-3.3-.1-1.4.1-2.8.1-4.2.1L416 512h-24c-22.1 0-40-17.9-40-40v-88c0-17.7-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32v88c0 22.1-17.9 40-40 40h-55.9c-1.5 0-3-.1-4.5-.2-1.2.1-2.4.2-3.6.2h-16c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9.1-2.8v-69.7h-32c-18 0-32-14-32-32.1 0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7l255.4 224.5c8 7 12 15 11 24"/></svg> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M88 0C74.7 0 64 10.7 64 24c0 38.9 23.4 59.4 39.1 73.1l1.1 1c16.3 14.2 23.8 21.8 23.8 37.9 0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C119.5 47.7 112 40.1 112 24c0-13.3-10.7-24-24-24M32 192c-17.7 0-32 14.3-32 32v192c0 53 43 96 96 96h192c53 0 96-43 96-96h16c61.9 0 112-50.1 112-112s-50.1-112-112-112H32m352 64h16c26.5 0 48 21.5 48 48s-21.5 48-48 48h-16zM224 24c0-13.3-10.7-24-24-24s-24 10.7-24 24c0 38.9 23.4 59.4 39.1 73.1l1.1 1c16.3 14.2 23.8 21.8 23.8 37.9 0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C231.5 47.7 224 40.1 224 24"/></svg> <span class=md-ellipsis> Backend </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Backend </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2 checked> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> JavaSE </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> JavaSE </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> 1 基本语法 </span> </a> </li> <li class=md-nav__item> <a href=../2-%E6%96%B9%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> 2 方法 </span> </a> </li> <li class=md-nav__item> <a href=../3-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A11/ class=md-nav__link> <span class=md-ellipsis> 3 面向对象1 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 4 面向对象2 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 4 面向对象2 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1-abstract-class class=md-nav__link> <span class=md-ellipsis> 1. 抽象类（abstract class） </span> </a> </li> <li class=md-nav__item> <a href=#2-interface class=md-nav__link> <span class=md-ellipsis> 2. 接口（interface） </span> </a> </li> <li class=md-nav__item> <a href=#3 class=md-nav__link> <span class=md-ellipsis> 3. 静态字段和静态方法 </span> </a> <nav class=md-nav aria-label="3. 静态字段和静态方法"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 接口的静态字段 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-package class=md-nav__link> <span class=md-ellipsis> 4. 包（package） </span> </a> <nav class=md-nav aria-label="4. 包（package）"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#import class=md-nav__link> <span class=md-ellipsis> import语法 </span> </a> <nav class=md-nav aria-label=import语法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1 class=md-nav__link> <span class=md-ellipsis> 1.完整类名使用 </span> </a> </li> <li class=md-nav__item> <a href=#2-import class=md-nav__link> <span class=md-ellipsis> 2.使用 import 导入类 </span> </a> </li> <li class=md-nav__item> <a href=#3_1 class=md-nav__link> <span class=md-ellipsis> 3.通配符导入整个包下的类（不推荐） </span> </a> </li> <li class=md-nav__item> <a href=#4import-static class=md-nav__link> <span class=md-ellipsis> 4.import static 导入静态成员 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 编译和运行 </span> </a> <nav class=md-nav aria-label=编译和运行> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1linuxmacos class=md-nav__link> <span class=md-ellipsis> 1.编译所有源文件（Linux/macOS） </span> </a> </li> <li class=md-nav__item> <a href=#2windows-powershell class=md-nav__link> <span class=md-ellipsis> 2.编译所有源文件（Windows PowerShell） </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5 class=md-nav__link> <span class=md-ellipsis> 5. 作用域 </span> </a> <nav class=md-nav aria-label="5. 作用域"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 局部变量作用域 </span> </a> </li> <li class=md-nav__item> <a href=#final class=md-nav__link> <span class=md-ellipsis> final修饰符 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6-nested-class class=md-nav__link> <span class=md-ellipsis> 6. 内部类（Nested Class） </span> </a> <nav class=md-nav aria-label="6. 内部类（Nested Class）"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#61-inner-class class=md-nav__link> <span class=md-ellipsis> 6.1 Inner Class（成员内部类） </span> </a> </li> <li class=md-nav__item> <a href=#62-anonymous-class class=md-nav__link> <span class=md-ellipsis> 6.2 Anonymous Class（匿名内部类） </span> </a> </li> <li class=md-nav__item> <a href=#63-static-nested-class class=md-nav__link> <span class=md-ellipsis> 6.3 Static Nested Class（静态内部类） </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 总结 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7-classpathjar class=md-nav__link> <span class=md-ellipsis> 7. Classpath和Jar </span> </a> <nav class=md-nav aria-label="7. Classpath和Jar"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#71-classpath class=md-nav__link> <span class=md-ellipsis> 7.1 Classpath的搜索过程 </span> </a> </li> <li class=md-nav__item> <a href=#72-classpath class=md-nav__link> <span class=md-ellipsis> 7.2 Classpath的设置 </span> </a> </li> <li class=md-nav__item> <a href=#73-jar class=md-nav__link> <span class=md-ellipsis> 7.3 创建Jar包 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#8-jdkclass class=md-nav__link> <span class=md-ellipsis> 8. JDK与Class版本 </span> </a> </li> <li class=md-nav__item> <a href=#9-module class=md-nav__link> <span class=md-ellipsis> 9. 模块（Module） </span> </a> <nav class=md-nav aria-label="9. 模块（Module）"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#91 class=md-nav__link> <span class=md-ellipsis> 9.1 创建模块 </span> </a> </li> <li class=md-nav__item> <a href=#92 class=md-nav__link> <span class=md-ellipsis> 9.2 编译与打包模块 </span> </a> </li> <li class=md-nav__item> <a href=#93 class=md-nav__link> <span class=md-ellipsis> 9.3 运行模块 </span> </a> </li> <li class=md-nav__item> <a href=#94-jre-jlink class=md-nav__link> <span class=md-ellipsis> 9.4 打包自定义 JRE（使用 jlink） </span> </a> </li> <li class=md-nav__item> <a href=#95 class=md-nav__link> <span class=md-ellipsis> 9.5 访问权限控制 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../5-%E6%A0%B8%E5%BF%83%E7%B1%BB1/ class=md-nav__link> <span class=md-ellipsis> 5 核心类1 </span> </a> </li> <li class=md-nav__item> <a href=../6-%E6%A0%B8%E5%BF%83%E7%B1%BB2/ class=md-nav__link> <span class=md-ellipsis> 6 核心类2 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../notes/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 96C0 43 43 0 96 0h96v190.7c0 13.4 15.5 20.9 26 12.5l54-43.2 54 43.2c10.5 8.4 26 .9 26-12.5V0h64c17.7 0 32 14.3 32 32v320c0 17.7-14.3 32-32 32v64c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-53 0-96-43-96-96zm64 320c0 17.7 14.3 32 32 32h256v-64H96c-17.7 0-32 14.3-32 32"/></svg> <span class=md-ellipsis> Notes </span> </a> </li> <li class=md-nav__item> <a href=../../../summaries/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M128 0c17.7 0 32 14.3 32 32v32h128V32c0-17.7 14.3-32 32-32s32 14.3 32 32v32h48c26.5 0 48 21.5 48 48v48H0v-48c0-26.5 21.5-48 48-48h48V32c0-17.7 14.3-32 32-32M0 192h448v272c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48zm329 113c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0z"/></svg> <span class=md-ellipsis> Summaries </span> </a> </li> <li class=md-nav__item> <a href=../../../links/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6 31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5 50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l112.2-112.3c31.5-31.5 82.5-31.5 114 0 27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0z"/></svg> <span class=md-ellipsis> Links </span> </a> </li> <li class=md-nav__item> <a href=../../../about/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512m96-112h-8v-40h55.3c-3.8 22.7-23.6 40-47.3 40m47.3-56H344v-40h8c23.8 0 43.5 17.3 47.3 40m-71.3 0h-64v-40h64zm0 56h-64v-40h64zm-80-96v40h-64v-40zm0 56v40h-64v-40zm-80-16h-55.3c3.8-22.7 23.6-40 47.3-40h8zm0 56h-8c-23.8 0-43.5-17.3-47.3-40H168zm-23.6-192a32 32 0 1 1 64 0 32 32 0 1 1-64 0m192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64"/></svg> <span class=md-ellipsis> About </span> </a> </li> <li class=md-nav__item> <a href=../../../blogs/ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h224V368c0-26.5 21.5-48 48-48h112V96c0-35.3-28.7-64-64-64zm384 320H336c-8.8 0-16 7.2-16 16v112l32-32 64-64z"/></svg> <span class=md-ellipsis> Blogs </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1-abstract-class class=md-nav__link> <span class=md-ellipsis> 1. 抽象类（abstract class） </span> </a> </li> <li class=md-nav__item> <a href=#2-interface class=md-nav__link> <span class=md-ellipsis> 2. 接口（interface） </span> </a> </li> <li class=md-nav__item> <a href=#3 class=md-nav__link> <span class=md-ellipsis> 3. 静态字段和静态方法 </span> </a> <nav class=md-nav aria-label="3. 静态字段和静态方法"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> 接口的静态字段 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-package class=md-nav__link> <span class=md-ellipsis> 4. 包（package） </span> </a> <nav class=md-nav aria-label="4. 包（package）"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#import class=md-nav__link> <span class=md-ellipsis> import语法 </span> </a> <nav class=md-nav aria-label=import语法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1 class=md-nav__link> <span class=md-ellipsis> 1.完整类名使用 </span> </a> </li> <li class=md-nav__item> <a href=#2-import class=md-nav__link> <span class=md-ellipsis> 2.使用 import 导入类 </span> </a> </li> <li class=md-nav__item> <a href=#3_1 class=md-nav__link> <span class=md-ellipsis> 3.通配符导入整个包下的类（不推荐） </span> </a> </li> <li class=md-nav__item> <a href=#4import-static class=md-nav__link> <span class=md-ellipsis> 4.import static 导入静态成员 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 编译和运行 </span> </a> <nav class=md-nav aria-label=编译和运行> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1linuxmacos class=md-nav__link> <span class=md-ellipsis> 1.编译所有源文件（Linux/macOS） </span> </a> </li> <li class=md-nav__item> <a href=#2windows-powershell class=md-nav__link> <span class=md-ellipsis> 2.编译所有源文件（Windows PowerShell） </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5 class=md-nav__link> <span class=md-ellipsis> 5. 作用域 </span> </a> <nav class=md-nav aria-label="5. 作用域"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> 局部变量作用域 </span> </a> </li> <li class=md-nav__item> <a href=#final class=md-nav__link> <span class=md-ellipsis> final修饰符 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6-nested-class class=md-nav__link> <span class=md-ellipsis> 6. 内部类（Nested Class） </span> </a> <nav class=md-nav aria-label="6. 内部类（Nested Class）"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#61-inner-class class=md-nav__link> <span class=md-ellipsis> 6.1 Inner Class（成员内部类） </span> </a> </li> <li class=md-nav__item> <a href=#62-anonymous-class class=md-nav__link> <span class=md-ellipsis> 6.2 Anonymous Class（匿名内部类） </span> </a> </li> <li class=md-nav__item> <a href=#63-static-nested-class class=md-nav__link> <span class=md-ellipsis> 6.3 Static Nested Class（静态内部类） </span> </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> 总结 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7-classpathjar class=md-nav__link> <span class=md-ellipsis> 7. Classpath和Jar </span> </a> <nav class=md-nav aria-label="7. Classpath和Jar"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#71-classpath class=md-nav__link> <span class=md-ellipsis> 7.1 Classpath的搜索过程 </span> </a> </li> <li class=md-nav__item> <a href=#72-classpath class=md-nav__link> <span class=md-ellipsis> 7.2 Classpath的设置 </span> </a> </li> <li class=md-nav__item> <a href=#73-jar class=md-nav__link> <span class=md-ellipsis> 7.3 创建Jar包 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#8-jdkclass class=md-nav__link> <span class=md-ellipsis> 8. JDK与Class版本 </span> </a> </li> <li class=md-nav__item> <a href=#9-module class=md-nav__link> <span class=md-ellipsis> 9. 模块（Module） </span> </a> <nav class=md-nav aria-label="9. 模块（Module）"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#91 class=md-nav__link> <span class=md-ellipsis> 9.1 创建模块 </span> </a> </li> <li class=md-nav__item> <a href=#92 class=md-nav__link> <span class=md-ellipsis> 9.2 编译与打包模块 </span> </a> </li> <li class=md-nav__item> <a href=#93 class=md-nav__link> <span class=md-ellipsis> 9.3 运行模块 </span> </a> </li> <li class=md-nav__item> <a href=#94-jre-jlink class=md-nav__link> <span class=md-ellipsis> 9.4 打包自定义 JRE（使用 jlink） </span> </a> </li> <li class=md-nav__item> <a href=#95 class=md-nav__link> <span class=md-ellipsis> 9.5 访问权限控制 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>4 面向对象2</h1> <p>包括：抽象类、接口、静态字段、静态方法、包、作用域、内部类、Jar、JDK、模块等</p> <p><strong><em>输出结果都写在了注释中</em></strong></p> <h2 id=1-abstract-class>1. 抽象类（<code>abstract class</code>）<a class=headerlink href=#1-abstract-class title="Permanent link">&para;</a></h2> <p>如果父类的方法不需要具体实现，仅用于强制子类进行覆写，就可以将方法声明为抽象方法。</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><a href=#__codelineno-0-1><span class=linenos data-linenos=" 1 "></span></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>demo23</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a><a href=#__codelineno-0-2><span class=linenos data-linenos=" 2 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>){</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a><a href=#__codelineno-0-3><span class=linenos data-linenos=" 3 "></span></a><span class=w>        </span><span class=c1>// Person p = new Person;   编译错误：抽象类不能被实例化</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a><a href=#__codelineno-0-4><span class=linenos data-linenos=" 4 "></span></a>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a><a href=#__codelineno-0-5><span class=linenos data-linenos=" 5 "></span></a><span class=w>        </span><span class=c1>// 尽量引用抽象类型而不是具体子类类型</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6></a><a href=#__codelineno-0-6><span class=linenos data-linenos=" 6 "></span></a><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>p1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Student</span><span class=p>();</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7></a><a href=#__codelineno-0-7><span class=linenos data-linenos=" 7 "></span></a><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>p2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Teacher</span><span class=p>();</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8></a><a href=#__codelineno-0-8><span class=linenos data-linenos=" 8 "></span></a>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9></a><a href=#__codelineno-0-9><span class=linenos data-linenos=" 9 "></span></a><span class=w>        </span><span class=n>p1</span><span class=p>.</span><span class=na>run</span><span class=p>();</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10></a><a href=#__codelineno-0-10><span class=linenos data-linenos="10 "></span></a><span class=w>        </span><span class=n>p2</span><span class=p>.</span><span class=na>run</span><span class=p>();</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11></a><a href=#__codelineno-0-11><span class=linenos data-linenos="11 "></span></a>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12></a><a href=#__codelineno-0-12><span class=linenos data-linenos="12 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13></a><a href=#__codelineno-0-13><span class=linenos data-linenos="13 "></span></a><span class=p>}</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14></a><a href=#__codelineno-0-14><span class=linenos data-linenos="14 "></span></a>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15></a><a href=#__codelineno-0-15><span class=linenos data-linenos="15 "></span></a><span class=c1>// 抽象方法必须定义在抽象类中，因此Person类也必须是抽象类</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16></a><a href=#__codelineno-0-16><span class=linenos data-linenos="16 "></span></a><span class=kd>abstract</span><span class=w> </span><span class=kd>class</span> <span class=nc>Person</span><span class=p>{</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17></a><a href=#__codelineno-0-17><span class=linenos data-linenos="17 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>abstract</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>run</span><span class=p>();</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18></a><a href=#__codelineno-0-18><span class=linenos data-linenos="18 "></span></a><span class=p>}</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a><a href=#__codelineno-0-19><span class=linenos data-linenos="19 "></span></a>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a><a href=#__codelineno-0-20><span class=linenos data-linenos="20 "></span></a><span class=kd>class</span> <span class=nc>Student</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>Person</span><span class=p>{</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a><a href=#__codelineno-0-21><span class=linenos data-linenos="21 "></span></a><span class=w>    </span><span class=nd>@Override</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><a href=#__codelineno-0-22><span class=linenos data-linenos="22 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>run</span><span class=p>(){</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><a href=#__codelineno-0-23><span class=linenos data-linenos="23 "></span></a><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;Student.run&quot;</span><span class=p>);</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a><a href=#__codelineno-0-24><span class=linenos data-linenos="24 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><a href=#__codelineno-0-25><span class=linenos data-linenos="25 "></span></a><span class=p>}</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><a href=#__codelineno-0-26><span class=linenos data-linenos="26 "></span></a>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><a href=#__codelineno-0-27><span class=linenos data-linenos="27 "></span></a><span class=kd>class</span> <span class=nc>Teacher</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>Person</span><span class=p>{</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a><a href=#__codelineno-0-28><span class=linenos data-linenos="28 "></span></a><span class=w>    </span><span class=nd>@Override</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><a href=#__codelineno-0-29><span class=linenos data-linenos="29 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>run</span><span class=p>(){</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><a href=#__codelineno-0-30><span class=linenos data-linenos="30 "></span></a><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;Teacher.run&quot;</span><span class=p>);</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a><a href=#__codelineno-0-31><span class=linenos data-linenos="31 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a><a href=#__codelineno-0-32><span class=linenos data-linenos="32 "></span></a><span class=p>}</span>
</span></code></pre></div> <p><strong>面向抽象编程的本质：</strong></p> <ol> <li>上层代码只定义规范（抽象类或接口）</li> <li>下层子类提供实际逻辑</li> <li>上层无需依赖具体子类即可实现功能</li> </ol> <hr> <h2 id=2-interface>2. 接口（<code>interface</code>）<a class=headerlink href=#2-interface title="Permanent link">&para;</a></h2> <p>接口是比抽象类更“抽象”的类型。</p> <p>接口中：</p> <ol> <li> <p>所有方法默认是 <code>public abstract</code>（可省略不写）</p> </li> <li> <p>不能定义实例字段</p> </li> <li> <p>可以包含 <code>default</code> 方法（带有默认实现）， <code>static</code> 方法， <code>private</code> 方法</p> </li> </ol> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1></a><a href=#__codelineno-1-1><span class=linenos data-linenos="1 "></span></a><span class=kd>abstract</span><span class=w> </span><span class=kd>class</span> <span class=nc>Person</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2></a><a href=#__codelineno-1-2><span class=linenos data-linenos="2 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>abstract</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>run</span><span class=p>();</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3></a><a href=#__codelineno-1-3><span class=linenos data-linenos="3 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>abstract</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getName</span><span class=p>();</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4></a><a href=#__codelineno-1-4><span class=linenos data-linenos="4 "></span></a><span class=p>}</span>
</span></code></pre></div> <p>如果一个抽象类没有字段，所有方法全部都是抽象方法，就可以把该抽象类改写为接口：interface。</p> <table> <thead> <tr> <th>特性</th> <th>抽象类 (<code>abstract class</code>)</th> <th>接口 (<code>interface</code>)</th> </tr> </thead> <tbody> <tr> <td>继承方式</td> <td>只能 <code>extends</code> 一个类</td> <td>可 <code>implements</code> 多个接口</td> </tr> <tr> <td>字段</td> <td>可以定义实例字段</td> <td>不能定义实例字段</td> </tr> <tr> <td>抽象方法</td> <td>支持</td> <td>支持（默认即为抽象方法）</td> </tr> <tr> <td>普通方法</td> <td>支持（可访问字段）</td> <td>支持 <code>default</code> 方法（不能访问字段）</td> </tr> <tr> <td>多继承支持</td> <td>不支持</td> <td>支持多接口继承</td> </tr> </tbody> </table> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1></a><a href=#__codelineno-2-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1>// 使用interface可以声明一个接口</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2></a><a href=#__codelineno-2-2><span class=linenos data-linenos=" 2 "></span></a><span class=kd>interface</span> <span class=nc>Person</span><span class=p>{</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3></a><a href=#__codelineno-2-3><span class=linenos data-linenos=" 3 "></span></a><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>getName</span><span class=p>();</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4></a><a href=#__codelineno-2-4><span class=linenos data-linenos=" 4 "></span></a><span class=w>    </span><span class=c1>// 在接口中定义默认实现的方法，使用 default 关键字</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5></a><a href=#__codelineno-2-5><span class=linenos data-linenos=" 5 "></span></a><span class=w>    </span><span class=c1>// 实现类可以选择是否重写该方法</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6></a><a href=#__codelineno-2-6><span class=linenos data-linenos=" 6 "></span></a><span class=w>    </span><span class=k>default</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>run</span><span class=p>(){</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7></a><a href=#__codelineno-2-7><span class=linenos data-linenos=" 7 "></span></a><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>getName</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;run&quot;</span><span class=p>);</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8></a><a href=#__codelineno-2-8><span class=linenos data-linenos=" 8 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9></a><a href=#__codelineno-2-9><span class=linenos data-linenos=" 9 "></span></a><span class=p>}</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10></a><a href=#__codelineno-2-10><span class=linenos data-linenos="10 "></span></a>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11></a><a href=#__codelineno-2-11><span class=linenos data-linenos="11 "></span></a><span class=c1>// 一个接口可以使用extends关键字继承自另一个接口</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12></a><a href=#__codelineno-2-12><span class=linenos data-linenos="12 "></span></a><span class=c1>// 子接口会继承父接口的所有方法签名</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13></a><a href=#__codelineno-2-13><span class=linenos data-linenos="13 "></span></a><span class=kd>interface</span> <span class=nc>Hello</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>Person</span><span class=p>{</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14></a><a href=#__codelineno-2-14><span class=linenos data-linenos="14 "></span></a><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>getHello</span><span class=p>();</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15></a><a href=#__codelineno-2-15><span class=linenos data-linenos="15 "></span></a><span class=p>}</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16></a><a href=#__codelineno-2-16><span class=linenos data-linenos="16 "></span></a>
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17></a><a href=#__codelineno-2-17><span class=linenos data-linenos="17 "></span></a><span class=c1>// 当一个具体的class去实现一个interface时，需要使用implements关键字</span>
</span><span id=__span-2-18><a id=__codelineno-2-18 name=__codelineno-2-18></a><a href=#__codelineno-2-18><span class=linenos data-linenos="18 "></span></a><span class=c1>// 一个类可以实现多个interface</span>
</span><span id=__span-2-19><a id=__codelineno-2-19 name=__codelineno-2-19></a><a href=#__codelineno-2-19><span class=linenos data-linenos="19 "></span></a><span class=kd>class</span> <span class=nc>Student</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Person</span><span class=p>,</span><span class=n>Hello</span><span class=p>{</span>
</span><span id=__span-2-20><a id=__codelineno-2-20 name=__codelineno-2-20></a><a href=#__codelineno-2-20><span class=linenos data-linenos="20 "></span></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-2-21><a id=__codelineno-2-21 name=__codelineno-2-21></a><a href=#__codelineno-2-21><span class=linenos data-linenos="21 "></span></a>
</span><span id=__span-2-22><a id=__codelineno-2-22 name=__codelineno-2-22></a><a href=#__codelineno-2-22><span class=linenos data-linenos="22 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>Student</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>){</span>
</span><span id=__span-2-23><a id=__codelineno-2-23 name=__codelineno-2-23></a><a href=#__codelineno-2-23><span class=linenos data-linenos="23 "></span></a><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-2-24><a id=__codelineno-2-24 name=__codelineno-2-24></a><a href=#__codelineno-2-24><span class=linenos data-linenos="24 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-25><a id=__codelineno-2-25 name=__codelineno-2-25></a><a href=#__codelineno-2-25><span class=linenos data-linenos="25 "></span></a>
</span><span id=__span-2-26><a id=__codelineno-2-26 name=__codelineno-2-26></a><a href=#__codelineno-2-26><span class=linenos data-linenos="26 "></span></a><span class=w>    </span><span class=nd>@Override</span>
</span><span id=__span-2-27><a id=__codelineno-2-27 name=__codelineno-2-27></a><a href=#__codelineno-2-27><span class=linenos data-linenos="27 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getName</span><span class=p>(){</span>
</span><span id=__span-2-28><a id=__codelineno-2-28 name=__codelineno-2-28></a><a href=#__codelineno-2-28><span class=linenos data-linenos="28 "></span></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=p>;</span>
</span><span id=__span-2-29><a id=__codelineno-2-29 name=__codelineno-2-29></a><a href=#__codelineno-2-29><span class=linenos data-linenos="29 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-30><a id=__codelineno-2-30 name=__codelineno-2-30></a><a href=#__codelineno-2-30><span class=linenos data-linenos="30 "></span></a>
</span><span id=__span-2-31><a id=__codelineno-2-31 name=__codelineno-2-31></a><a href=#__codelineno-2-31><span class=linenos data-linenos="31 "></span></a><span class=w>    </span><span class=nd>@Override</span>
</span><span id=__span-2-32><a id=__codelineno-2-32 name=__codelineno-2-32></a><a href=#__codelineno-2-32><span class=linenos data-linenos="32 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getHello</span><span class=p>(){</span>
</span><span id=__span-2-33><a id=__codelineno-2-33 name=__codelineno-2-33></a><a href=#__codelineno-2-33><span class=linenos data-linenos="33 "></span></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;Hello&quot;</span><span class=p>;</span>
</span><span id=__span-2-34><a id=__codelineno-2-34 name=__codelineno-2-34></a><a href=#__codelineno-2-34><span class=linenos data-linenos="34 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-35><a id=__codelineno-2-35 name=__codelineno-2-35></a><a href=#__codelineno-2-35><span class=linenos data-linenos="35 "></span></a><span class=p>}</span>
</span></code></pre></div> <hr> <h2 id=3>3. 静态字段和静态方法<a class=headerlink href=#3 title="Permanent link">&para;</a></h2> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1></a><a href=#__codelineno-3-1><span class=linenos data-linenos=" 1 "></span></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>demo25</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2></a><a href=#__codelineno-3-2><span class=linenos data-linenos=" 2 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>){</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3></a><a href=#__codelineno-3-3><span class=linenos data-linenos=" 3 "></span></a><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>p1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=s>&quot;Xiaoming&quot;</span><span class=p>,</span><span class=mi>15</span><span class=p>);</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4></a><a href=#__codelineno-3-4><span class=linenos data-linenos=" 4 "></span></a><span class=w>        </span><span class=n>Person</span><span class=w> </span><span class=n>p2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=s>&quot;Xiaohong&quot;</span><span class=p>,</span><span class=mi>12</span><span class=p>);</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5></a><a href=#__codelineno-3-5><span class=linenos data-linenos=" 5 "></span></a>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6></a><a href=#__codelineno-3-6><span class=linenos data-linenos=" 6 "></span></a><span class=w>        </span><span class=c1>// 静态字段只有一个共享“空间”，所有实例都会共享该字段</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7></a><a href=#__codelineno-3-7><span class=linenos data-linenos=" 7 "></span></a><span class=w>        </span><span class=n>p1</span><span class=p>.</span><span class=na>number</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>88</span><span class=p>;</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8></a><a href=#__codelineno-3-8><span class=linenos data-linenos=" 8 "></span></a><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>p2</span><span class=p>.</span><span class=na>number</span><span class=p>);</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9></a><a href=#__codelineno-3-9><span class=linenos data-linenos=" 9 "></span></a><span class=w>        </span><span class=c1>// 88</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10></a><a href=#__codelineno-3-10><span class=linenos data-linenos="10 "></span></a>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11></a><a href=#__codelineno-3-11><span class=linenos data-linenos="11 "></span></a><span class=w>        </span><span class=n>p2</span><span class=p>.</span><span class=na>number</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>99</span><span class=p>;</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12></a><a href=#__codelineno-3-12><span class=linenos data-linenos="12 "></span></a><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>p1</span><span class=p>.</span><span class=na>number</span><span class=p>);</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13></a><a href=#__codelineno-3-13><span class=linenos data-linenos="13 "></span></a><span class=w>        </span><span class=c1>// 99</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14></a><a href=#__codelineno-3-14><span class=linenos data-linenos="14 "></span></a>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15></a><a href=#__codelineno-3-15><span class=linenos data-linenos="15 "></span></a><span class=w>        </span><span class=c1>// 调用静态方法则不需要实例变量，通过类名就可以调用</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16></a><a href=#__codelineno-3-16><span class=linenos data-linenos="16 "></span></a><span class=w>        </span><span class=n>Person</span><span class=p>.</span><span class=na>setNumber</span><span class=p>(</span><span class=mi>100</span><span class=p>);</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17></a><a href=#__codelineno-3-17><span class=linenos data-linenos="17 "></span></a><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>Person</span><span class=p>.</span><span class=na>number</span><span class=p>);</span>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18></a><a href=#__codelineno-3-18><span class=linenos data-linenos="18 "></span></a><span class=w>        </span><span class=c1>// 100</span>
</span><span id=__span-3-19><a id=__codelineno-3-19 name=__codelineno-3-19></a><a href=#__codelineno-3-19><span class=linenos data-linenos="19 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-20><a id=__codelineno-3-20 name=__codelineno-3-20></a><a href=#__codelineno-3-20><span class=linenos data-linenos="20 "></span></a><span class=p>}</span>
</span><span id=__span-3-21><a id=__codelineno-3-21 name=__codelineno-3-21></a><a href=#__codelineno-3-21><span class=linenos data-linenos="21 "></span></a>
</span><span id=__span-3-22><a id=__codelineno-3-22 name=__codelineno-3-22></a><a href=#__codelineno-3-22><span class=linenos data-linenos="22 "></span></a><span class=kd>class</span> <span class=nc>Person</span><span class=p>{</span>
</span><span id=__span-3-23><a id=__codelineno-3-23 name=__codelineno-3-23></a><a href=#__codelineno-3-23><span class=linenos data-linenos="23 "></span></a><span class=w>    </span><span class=c1>// 实例字段</span>
</span><span id=__span-3-24><a id=__codelineno-3-24 name=__codelineno-3-24></a><a href=#__codelineno-3-24><span class=linenos data-linenos="24 "></span></a><span class=w>    </span><span class=c1>// 特点是每个实例都有独立的字段，各个实例的同名字段互不影响</span>
</span><span id=__span-3-25><a id=__codelineno-3-25 name=__codelineno-3-25></a><a href=#__codelineno-3-25><span class=linenos data-linenos="25 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-3-26><a id=__codelineno-3-26 name=__codelineno-3-26></a><a href=#__codelineno-3-26><span class=linenos data-linenos="26 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-3-27><a id=__codelineno-3-27 name=__codelineno-3-27></a><a href=#__codelineno-3-27><span class=linenos data-linenos="27 "></span></a>
</span><span id=__span-3-28><a id=__codelineno-3-28 name=__codelineno-3-28></a><a href=#__codelineno-3-28><span class=linenos data-linenos="28 "></span></a><span class=w>    </span><span class=c1>// 静态字段,用static修饰</span>
</span><span id=__span-3-29><a id=__codelineno-3-29 name=__codelineno-3-29></a><a href=#__codelineno-3-29><span class=linenos data-linenos="29 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>number</span><span class=p>;</span>
</span><span id=__span-3-30><a id=__codelineno-3-30 name=__codelineno-3-30></a><a href=#__codelineno-3-30><span class=linenos data-linenos="30 "></span></a>
</span><span id=__span-3-31><a id=__codelineno-3-31 name=__codelineno-3-31></a><a href=#__codelineno-3-31><span class=linenos data-linenos="31 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>Person</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=kt>int</span><span class=w> </span><span class=n>age</span><span class=p>){</span>
</span><span id=__span-3-32><a id=__codelineno-3-32 name=__codelineno-3-32></a><a href=#__codelineno-3-32><span class=linenos data-linenos="32 "></span></a><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-3-33><a id=__codelineno-3-33 name=__codelineno-3-33></a><a href=#__codelineno-3-33><span class=linenos data-linenos="33 "></span></a><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>age</span><span class=p>;</span>
</span><span id=__span-3-34><a id=__codelineno-3-34 name=__codelineno-3-34></a><a href=#__codelineno-3-34><span class=linenos data-linenos="34 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-35><a id=__codelineno-3-35 name=__codelineno-3-35></a><a href=#__codelineno-3-35><span class=linenos data-linenos="35 "></span></a>
</span><span id=__span-3-36><a id=__codelineno-3-36 name=__codelineno-3-36></a><a href=#__codelineno-3-36><span class=linenos data-linenos="36 "></span></a><span class=w>    </span><span class=c1>// 静态方法,用static修饰</span>
</span><span id=__span-3-37><a id=__codelineno-3-37 name=__codelineno-3-37></a><a href=#__codelineno-3-37><span class=linenos data-linenos="37 "></span></a><span class=w>    </span><span class=c1>// 静态方法属于class而不属于实例</span>
</span><span id=__span-3-38><a id=__codelineno-3-38 name=__codelineno-3-38></a><a href=#__codelineno-3-38><span class=linenos data-linenos="38 "></span></a><span class=w>    </span><span class=c1>// 无法访问this变量，也无法访问实例字段，只能访问静态字段</span>
</span><span id=__span-3-39><a id=__codelineno-3-39 name=__codelineno-3-39></a><a href=#__codelineno-3-39><span class=linenos data-linenos="39 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>setNumber</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>value</span><span class=p>){</span>
</span><span id=__span-3-40><a id=__codelineno-3-40 name=__codelineno-3-40></a><a href=#__codelineno-3-40><span class=linenos data-linenos="40 "></span></a><span class=w>        </span><span class=n>number</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>value</span><span class=p>;</span>
</span><span id=__span-3-41><a id=__codelineno-3-41 name=__codelineno-3-41></a><a href=#__codelineno-3-41><span class=linenos data-linenos="41 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-42><a id=__codelineno-3-42 name=__codelineno-3-42></a><a href=#__codelineno-3-42><span class=linenos data-linenos="42 "></span></a><span class=p>}</span>
</span></code></pre></div> <p>不推荐用<code>实例变量.静态字段</code>去访问静态字段，因为在Java程序中，实例对象并没有静态字段，推荐用类名来访问静态字段。可以把静态字段理解为描述<code>class</code>本身的字段。</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1></a><a href=#__codelineno-4-1><span class=linenos data-linenos="1 "></span></a><span class=n>Person</span><span class=p>.</span><span class=na>number</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>99</span><span class=p>;</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2></a><a href=#__codelineno-4-2><span class=linenos data-linenos="2 "></span></a><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>Person</span><span class=p>.</span><span class=na>number</span><span class=p>);</span>
</span></code></pre></div> <p>静态方法经常用于工具类。例如：Arrays.sort()、Math.random()</p> <h3 id=_1>接口的静态字段<a class=headerlink href=#_1 title="Permanent link">&para;</a></h3> <p>因为interface是一个纯抽象类，所以它不能定义实例字段。但是，interface是可以有静态字段的，并且静态字段必须为final类型。</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1></a><a href=#__codelineno-5-1><span class=linenos data-linenos="1 "></span></a><span class=kd>public</span><span class=w> </span><span class=kd>interface</span> <span class=nc>Person</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2></a><a href=#__codelineno-5-2><span class=linenos data-linenos="2 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>MALE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3></a><a href=#__codelineno-5-3><span class=linenos data-linenos="3 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>FEMALE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4></a><a href=#__codelineno-5-4><span class=linenos data-linenos="4 "></span></a><span class=p>}</span>
</span></code></pre></div> <p>因为interface的字段只能是public static final类型，所以可以把修饰符都去掉。</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1></a><a href=#__codelineno-6-1><span class=linenos data-linenos="1 "></span></a><span class=kd>public</span><span class=w> </span><span class=kd>interface</span> <span class=nc>Person</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2></a><a href=#__codelineno-6-2><span class=linenos data-linenos="2 "></span></a><span class=w>    </span><span class=c1>// 编译器会自动加上public static final:</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3></a><a href=#__codelineno-6-3><span class=linenos data-linenos="3 "></span></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>MALE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4></a><a href=#__codelineno-6-4><span class=linenos data-linenos="4 "></span></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>FEMALE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5></a><a href=#__codelineno-6-5><span class=linenos data-linenos="5 "></span></a><span class=p>}</span>
</span></code></pre></div> <hr> <h2 id=4-package>4. 包（package）<a class=headerlink href=#4-package title="Permanent link">&para;</a></h2> <p>在大型项目中，不同开发者可能会创建同名类（如 <code>Person</code>、<code>Arrays</code>）。为避免类名冲突，Java使用包机制来区分类的命名空间。</p> <p>例如：</p> <ul> <li>小明的类：<code>ming.Person</code></li> <li>小红的类：<code>hong.Person</code></li> <li>小军定义的类：<code>mr.jun.Arrays</code></li> <li>JDK 自带类：<code>java.util.Arrays</code></li> </ul> <p>Java虚拟机识别类时<strong>依赖完整类名（包名 + 类名）</strong> ，因此只要包名不同，类就是不同的。</p> <p>在 Java 中，使用 <code>package</code> 关键字声明类所属的包，声明必须放在源文件的第一行。</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1></a><a href=#__codelineno-7-1><span class=linenos data-linenos="1 "></span></a><span class=c1>// 文件：ming/Person.java</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2></a><a href=#__codelineno-7-2><span class=linenos data-linenos="2 "></span></a><span class=kn>package</span><span class=w> </span><span class=nn>ming</span><span class=p>;</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3></a><a href=#__codelineno-7-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4></a><a href=#__codelineno-7-4><span class=linenos data-linenos="4 "></span></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Person</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5></a><a href=#__codelineno-7-5><span class=linenos data-linenos="5 "></span></a>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6></a><a href=#__codelineno-7-6><span class=linenos data-linenos="6 "></span></a><span class=p>}</span>
</span></code></pre></div> <p>包名对应目录结构，编译时和运行时都必须遵守。</p> <div class="language-css highlight"><span class=filename>CSS</span><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1></a><a href=#__codelineno-8-1><span class=linenos data-linenos=" 1 "></span></a><span class=nt>project_root</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2></a><a href=#__codelineno-8-2><span class=linenos data-linenos=" 2 "></span></a><span class=err>├──</span><span class=w> </span><span class=nt>src</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3></a><a href=#__codelineno-8-3><span class=linenos data-linenos=" 3 "></span></a><span class=err>│</span><span class=w>   </span><span class=err>├──</span><span class=w> </span><span class=nt>hong</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4></a><a href=#__codelineno-8-4><span class=linenos data-linenos=" 4 "></span></a><span class=err>│</span><span class=w>   </span><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>Person</span><span class=p>.</span><span class=nc>java</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5></a><a href=#__codelineno-8-5><span class=linenos data-linenos=" 5 "></span></a><span class=err>│</span><span class=w>   </span><span class=err>├──</span><span class=w> </span><span class=nt>ming</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6></a><a href=#__codelineno-8-6><span class=linenos data-linenos=" 6 "></span></a><span class=err>│</span><span class=w>   </span><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>Person</span><span class=p>.</span><span class=nc>java</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7></a><a href=#__codelineno-8-7><span class=linenos data-linenos=" 7 "></span></a><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>mr</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8></a><a href=#__codelineno-8-8><span class=linenos data-linenos=" 8 "></span></a><span class=err>│</span><span class=w>       </span><span class=err>└──</span><span class=w> </span><span class=nt>jun</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9></a><a href=#__codelineno-8-9><span class=linenos data-linenos=" 9 "></span></a><span class=err>│</span><span class=w>           </span><span class=err>└──</span><span class=w> </span><span class=nt>Arrays</span><span class=p>.</span><span class=nc>java</span>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10></a><a href=#__codelineno-8-10><span class=linenos data-linenos="10 "></span></a><span class=err>├──</span><span class=w> </span><span class=nt>bin</span><span class=w>  </span><span class=o>//</span><span class=w> </span><span class=nt>编译后的</span><span class=p>.</span><span class=nc>class文件放此目录下</span>
</span></code></pre></div> <p>如果没有显式使用 <code>public</code>、<code>protected</code>、<code>private</code> 修饰符，则字段或方法具有<strong>包访问权限</strong>（package-private）：<strong>只能被同一包中的类访问</strong>。</p> <h3 id=import>import语法<a class=headerlink href=#import title="Permanent link">&para;</a></h3> <h4 id=1>1.完整类名使用<a class=headerlink href=#1 title="Permanent link">&para;</a></h4> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1></a><a href=#__codelineno-9-1><span class=linenos data-linenos="1 "></span></a><span class=n>mr</span><span class=p>.</span><span class=na>jun</span><span class=p>.</span><span class=na>Arrays</span><span class=w> </span><span class=n>arrays</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>mr</span><span class=p>.</span><span class=na>jun</span><span class=p>.</span><span class=na>Arrays</span><span class=p>();</span>
</span></code></pre></div> <h4 id=2-import>2.使用 <code>import</code> 导入类<a class=headerlink href=#2-import title="Permanent link">&para;</a></h4> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1></a><a href=#__codelineno-10-1><span class=linenos data-linenos="1 "></span></a><span class=kn>import</span><span class=w> </span><span class=nn>mr.jun.Arrays</span><span class=p>;</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2></a><a href=#__codelineno-10-2><span class=linenos data-linenos="2 "></span></a>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3></a><a href=#__codelineno-10-3><span class=linenos data-linenos="3 "></span></a><span class=n>Arrays</span><span class=w> </span><span class=n>arrays</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Arrays</span><span class=p>();</span>
</span></code></pre></div> <h4 id=3_1>3.通配符导入整个包下的类（不推荐）<a class=headerlink href=#3_1 title="Permanent link">&para;</a></h4> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1></a><a href=#__codelineno-11-1><span class=linenos data-linenos="1 "></span></a><span class=kn>import</span><span class=w> </span><span class=nn>mr.jun.*</span><span class=p>;</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2></a><a href=#__codelineno-11-2><span class=linenos data-linenos="2 "></span></a>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3></a><a href=#__codelineno-11-3><span class=linenos data-linenos="3 "></span></a><span class=n>Arrays</span><span class=w> </span><span class=n>arrays</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Arrays</span><span class=p>();</span>
</span></code></pre></div> <p>我们一般不推荐这种写法，因为在导入了多个包后，很难看出Arrays类属于哪个包。</p> <h4 id=4import-static>4.<code>import static</code> 导入静态成员<a class=headerlink href=#4import-static title="Permanent link">&para;</a></h4> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1></a><a href=#__codelineno-12-1><span class=linenos data-linenos="1 "></span></a><span class=c1>// 导入System类的所有静态字段和静态方法:</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2></a><a href=#__codelineno-12-2><span class=linenos data-linenos="2 "></span></a><span class=kn>import static</span><span class=w> </span><span class=nn>java.lang.System.*</span><span class=p>;</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3></a><a href=#__codelineno-12-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4></a><a href=#__codelineno-12-4><span class=linenos data-linenos="4 "></span></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Main</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5></a><a href=#__codelineno-12-5><span class=linenos data-linenos="5 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6></a><a href=#__codelineno-12-6><span class=linenos data-linenos="6 "></span></a><span class=w>        </span><span class=c1>// 相当于调用System.out.println(…)</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7></a><a href=#__codelineno-12-7><span class=linenos data-linenos="7 "></span></a><span class=w>        </span><span class=n>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;Hello, world!&quot;</span><span class=p>);</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8></a><a href=#__codelineno-12-8><span class=linenos data-linenos="8 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9></a><a href=#__codelineno-12-9><span class=linenos data-linenos="9 "></span></a><span class=p>}</span>
</span></code></pre></div> <p><code>import static</code>很少使用。</p> <p>当引用一个类名时，编译器依次查找：</p> <ol> <li>当前包中是否存在该类；</li> <li><code>import</code> 导入的包中是否包含该类；</li> <li><code>java.lang</code> 包是否包含该类。</li> </ol> <p>为了避免名字冲突，我们需要确定唯一的包名。推荐的做法是使用<strong>倒置的域名</strong>来确保唯一性。</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1></a><a href=#__codelineno-13-1><span class=linenos data-linenos="1 "></span></a><span class=n>org</span><span class=p>.</span><span class=na>apache</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2></a><a href=#__codelineno-13-2><span class=linenos data-linenos="2 "></span></a><span class=n>org</span><span class=p>.</span><span class=na>apache</span><span class=p>.</span><span class=na>commons</span><span class=p>.</span><span class=na>log</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3></a><a href=#__codelineno-13-3><span class=linenos data-linenos="3 "></span></a><span class=n>com</span><span class=p>.</span><span class=na>liaoxuefeng</span><span class=p>.</span><span class=na>sample</span>
</span></code></pre></div> <p>避免和 <code>java.lang</code> 包中的类重名（如 <code>String</code>、<code>System</code>、<code>Runtime</code>）</p> <p>避免与常用 JDK 类重名（如 <code>List</code>、<code>Map</code>、<code>Format</code>）</p> <hr> <h3 id=_2>编译和运行<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <p>假设目录结构如下：</p> <div class="language-css highlight"><span class=filename>CSS</span><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1></a><a href=#__codelineno-14-1><span class=linenos data-linenos="1 "></span></a><span class=nt>work</span><span class=o>/</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2></a><a href=#__codelineno-14-2><span class=linenos data-linenos="2 "></span></a><span class=err>├──</span><span class=w> </span><span class=nt>bin</span><span class=o>/</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3></a><a href=#__codelineno-14-3><span class=linenos data-linenos="3 "></span></a><span class=err>└──</span><span class=w> </span><span class=nt>src</span><span class=o>/</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4></a><a href=#__codelineno-14-4><span class=linenos data-linenos="4 "></span></a><span class=w>    </span><span class=err>└──</span><span class=w> </span><span class=nt>com</span><span class=o>/</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5></a><a href=#__codelineno-14-5><span class=linenos data-linenos="5 "></span></a><span class=w>        </span><span class=err>└──</span><span class=w> </span><span class=nt>itranswarp</span><span class=o>/</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6></a><a href=#__codelineno-14-6><span class=linenos data-linenos="6 "></span></a><span class=w>            </span><span class=err>├──</span><span class=w> </span><span class=nt>sample</span><span class=o>/</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7></a><a href=#__codelineno-14-7><span class=linenos data-linenos="7 "></span></a><span class=w>            </span><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>Main</span><span class=p>.</span><span class=nc>java</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8></a><a href=#__codelineno-14-8><span class=linenos data-linenos="8 "></span></a><span class=w>            </span><span class=err>└──</span><span class=w> </span><span class=nt>world</span><span class=o>/</span>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9></a><a href=#__codelineno-14-9><span class=linenos data-linenos="9 "></span></a><span class=w>                </span><span class=err>└──</span><span class=w> </span><span class=nt>Person</span><span class=p>.</span><span class=nc>java</span>
</span></code></pre></div> <p>其中，bin目录用于存放编译后的class文件，src目录按包结构存放Java源码</p> <h4 id=1linuxmacos>1.编译所有源文件（Linux/macOS）<a class=headerlink href=#1linuxmacos title="Permanent link">&para;</a></h4> <p>确保当前目录是<code>work</code>目录，然后，编译<code>src</code>目录下的所有Java文件。</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1></a><a href=#__codelineno-15-1><span class=linenos data-linenos="1 "></span></a><span class=nb>cd</span><span class=w> </span>work
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2></a><a href=#__codelineno-15-2><span class=linenos data-linenos="2 "></span></a>javac<span class=w> </span>-d<span class=w> </span>./bin<span class=w> </span>src/**/*.java
</span></code></pre></div> <p>命令行<code>-d</code>指定输出的<code>class</code>文件存放<code>bin</code>目录，后面的参数<code>src/**/*.java</code>表示<code>src</code>目录下的所有<code>.java</code>文件，包括任意深度的子目录。</p> <h4 id=2windows-powershell>2.编译所有源文件（Windows PowerShell）<a class=headerlink href=#2windows-powershell title="Permanent link">&para;</a></h4> <p>Windows不支持<code>**</code>这种搜索全部子目录的做法，所以在Windows下编译必须依次列出所有<code>.java</code>文件。</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1></a><a href=#__codelineno-16-1><span class=linenos data-linenos="1 "></span></a>C:<span class=se>\w</span>ork&gt;<span class=w> </span>javac<span class=w> </span>-d<span class=w> </span>bin<span class=w> </span>src<span class=se>\c</span>om<span class=se>\i</span>transwarp<span class=se>\s</span>ample<span class=se>\M</span>ain.java<span class=w> </span>src<span class=se>\c</span>om<span class=se>\i</span>transwarp<span class=se>\w</span>orld<span class=se>\P</span>ersion.java
</span></code></pre></div> <p>可以利用<code>Get-ChildItem</code>来列出指定目录下的所有<code>.java</code>文件</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1></a><a href=#__codelineno-17-1><span class=linenos data-linenos="1 "></span></a><span class=nb>cd</span><span class=w> </span>C:<span class=se>\w</span>ork
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2></a><a href=#__codelineno-17-2><span class=linenos data-linenos="2 "></span></a>javac<span class=w> </span>-d<span class=w> </span>.<span class=se>\b</span>in<span class=w> </span><span class=o>(</span>Get-ChildItem<span class=w> </span>-Path<span class=w> </span>.<span class=se>\s</span>rc<span class=w> </span>-Recurse<span class=w> </span>-Filter<span class=w> </span>*.java<span class=o>)</span>.FullName
</span></code></pre></div> <p>如果编译无误，可以在bin目录下看到如下class文件：</p> <div class="language-css highlight"><span class=filename>CSS</span><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1></a><a href=#__codelineno-18-1><span class=linenos data-linenos="1 "></span></a><span class=nt>bin</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2></a><a href=#__codelineno-18-2><span class=linenos data-linenos="2 "></span></a><span class=err>└──</span><span class=w> </span><span class=nt>com</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3></a><a href=#__codelineno-18-3><span class=linenos data-linenos="3 "></span></a><span class=w>    </span><span class=err>└──</span><span class=w> </span><span class=nt>itranswarp</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4></a><a href=#__codelineno-18-4><span class=linenos data-linenos="4 "></span></a><span class=w>        </span><span class=err>├──</span><span class=w> </span><span class=nt>sample</span>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5></a><a href=#__codelineno-18-5><span class=linenos data-linenos="5 "></span></a><span class=w>        </span><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>Main</span><span class=p>.</span><span class=nc>class</span>
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6></a><a href=#__codelineno-18-6><span class=linenos data-linenos="6 "></span></a><span class=w>        </span><span class=err>└──</span><span class=w> </span><span class=nt>world</span>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7></a><a href=#__codelineno-18-7><span class=linenos data-linenos="7 "></span></a><span class=w>            </span><span class=err>└──</span><span class=w> </span><span class=nt>Person</span><span class=p>.</span><span class=nc>class</span>
</span></code></pre></div> <p>运行主类：</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1></a><a href=#__codelineno-19-1><span class=linenos data-linenos="1 "></span></a>java<span class=w> </span>-cp<span class=w> </span>./bin<span class=w> </span>com.itranswarp.sample.Main
</span></code></pre></div> <p>输出：</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1></a><a href=#__codelineno-20-1><span class=linenos data-linenos="1 "></span></a>Hello,<span class=w> </span>world!
</span></code></pre></div> <hr> <h2 id=5>5. 作用域<a class=headerlink href=#5 title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>修饰符</th> <th>同类</th> <th>同包</th> <th>子类（不同包）</th> <th>其他包</th> <th>适用结构</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td><code>public</code></td> <td>✔️</td> <td>✔️</td> <td>✔️</td> <td>✔️</td> <td>类、方法、字段</td> <td>完全公开；<code>.java</code> 文件中最多一个，且文件名须与 <code>public</code> 类名一致。</td> </tr> <tr> <td><code>protected</code></td> <td>✔️</td> <td>✔️</td> <td>✔️</td> <td>❌</td> <td>方法、字段</td> <td>对包内可见，且对子类（跨包）可见，用于继承场景。</td> </tr> <tr> <td>（无修饰符）</td> <td>✔️</td> <td>✔️</td> <td>❌</td> <td>❌</td> <td>类、方法、字段</td> <td>包级私有，仅限同包访问。</td> </tr> <tr> <td><code>private</code></td> <td>✔️</td> <td>❌</td> <td>❌</td> <td>❌</td> <td>方法、字段</td> <td>仅在本类内部可见；嵌套类可访问外部类 <code>private</code> 成员。</td> </tr> </tbody> </table> <h3 id=_3>局部变量作用域<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3> <p>局部变量定义在方法内部，其作用域从声明开始，到代码块结束。</p> <p>方法参数也是局部变量。</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1></a><a href=#__codelineno-21-1><span class=linenos data-linenos=" 1 "></span></a><span class=kt>void</span><span class=w> </span><span class=nf>hi</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>       </span><span class=c1>// 参数 name 作用域：1~10</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2></a><a href=#__codelineno-21-2><span class=linenos data-linenos=" 2 "></span></a><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>.</span><span class=na>toLowerCase</span><span class=p>();</span><span class=w> </span><span class=c1>// s 作用域：2~10</span>
</span><span id=__span-21-3><a id=__codelineno-21-3 name=__codelineno-21-3></a><a href=#__codelineno-21-3><span class=linenos data-linenos=" 3 "></span></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>len</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=na>length</span><span class=p>();</span><span class=w>          </span><span class=c1>// len 作用域：3~10</span>
</span><span id=__span-21-4><a id=__codelineno-21-4 name=__codelineno-21-4></a><a href=#__codelineno-21-4><span class=linenos data-linenos=" 4 "></span></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>len</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-5><a id=__codelineno-21-5 name=__codelineno-21-5></a><a href=#__codelineno-21-5><span class=linenos data-linenos=" 5 "></span></a><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>len</span><span class=p>;</span><span class=w>          </span><span class=c1>// p 作用域：5~9</span>
</span><span id=__span-21-6><a id=__codelineno-21-6 name=__codelineno-21-6></a><a href=#__codelineno-21-6><span class=linenos data-linenos=" 6 "></span></a><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>10</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-7><a id=__codelineno-21-7 name=__codelineno-21-7></a><a href=#__codelineno-21-7><span class=linenos data-linenos=" 7 "></span></a><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>();</span><span class=w>  </span><span class=c1>// i 作用域：6~8</span>
</span><span id=__span-21-8><a id=__codelineno-21-8 name=__codelineno-21-8></a><a href=#__codelineno-21-8><span class=linenos data-linenos=" 8 "></span></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-21-9><a id=__codelineno-21-9 name=__codelineno-21-9></a><a href=#__codelineno-21-9><span class=linenos data-linenos=" 9 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-21-10><a id=__codelineno-21-10 name=__codelineno-21-10></a><a href=#__codelineno-21-10><span class=linenos data-linenos="10 "></span></a><span class=p>}</span>
</span></code></pre></div> <h3 id=final>final修饰符<a class=headerlink href=#final title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>用法</th> <th>作用对象</th> <th>效果</th> </tr> </thead> <tbody> <tr> <td><code>final class</code></td> <td>类</td> <td>类不可被继承</td> </tr> <tr> <td><code>final method</code></td> <td>方法</td> <td>方法不可被子类重写</td> </tr> <tr> <td><code>final field</code></td> <td>成员字段</td> <td>字段只能赋值一次</td> </tr> <tr> <td><code>final 变量/参数</code></td> <td>局部变量或参数</td> <td>变量/参数值不可修改</td> </tr> </tbody> </table> <p><strong>注意：</strong></p> <p>如果不确定是否需要<code>public</code>，就不声明为<code>public</code>，即尽可能少地暴露对外的字段和方法。</p> <p>把方法定义为<code>package</code>权限有助于测试，因为测试类和被测试类只要位于同一个<code>package</code>，测试代码就可以访问被测试类的<code>package</code>权限方法。</p> <p>一个<code>.java</code>文件只能包含一个<code>public</code>类，但可以包含多个非<code>public</code>类。如果有<code>public</code>类，文件名必须和<code>public</code>类的名字相同。</p> <hr> <h2 id=6-nested-class>6. 内部类（Nested Class）<a class=headerlink href=#6-nested-class title="Permanent link">&para;</a></h2> <p>在 Java 中，我们通常将类组织在不同的包中，同一包下的类彼此独立，没有父子关系。</p> <div class="language-css highlight"><span class=filename>CSS</span><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1></a><a href=#__codelineno-22-1><span class=linenos data-linenos="1 "></span></a><span class=nt>java</span><span class=p>.</span><span class=nc>lang</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2></a><a href=#__codelineno-22-2><span class=linenos data-linenos="2 "></span></a><span class=err>├──</span><span class=w> </span><span class=nt>Math</span>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3></a><a href=#__codelineno-22-3><span class=linenos data-linenos="3 "></span></a><span class=err>├──</span><span class=w> </span><span class=nt>Runnable</span>
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4></a><a href=#__codelineno-22-4><span class=linenos data-linenos="4 "></span></a><span class=err>├──</span><span class=w> </span><span class=nt>String</span>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5></a><a href=#__codelineno-22-5><span class=linenos data-linenos="5 "></span></a><span class=err>└──</span><span class=w> </span><span class=o>...</span>
</span></code></pre></div> <p>除了普通类，Java 还支持 <strong>内部类（Nested Class）</strong> ，即定义在另一个类内部的类。内部类分为三种：</p> <ul> <li>Inner Class（成员内部类）</li> <li>Anonymous Class（匿名类）</li> <li>Static Nested Class（静态内部类）</li> </ul> <h3 id=61-inner-class>6.1 Inner Class（成员内部类）<a class=headerlink href=#61-inner-class title="Permanent link">&para;</a></h3> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1></a><a href=#__codelineno-23-1><span class=linenos data-linenos="1 "></span></a><span class=kd>class</span> <span class=nc>Outer</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2></a><a href=#__codelineno-23-2><span class=linenos data-linenos="2 "></span></a><span class=w>    </span><span class=kd>class</span> <span class=nc>Inner</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3></a><a href=#__codelineno-23-3><span class=linenos data-linenos="3 "></span></a><span class=w>        </span><span class=c1>// 内部类定义</span>
</span><span id=__span-23-4><a id=__codelineno-23-4 name=__codelineno-23-4></a><a href=#__codelineno-23-4><span class=linenos data-linenos="4 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-23-5><a id=__codelineno-23-5 name=__codelineno-23-5></a><a href=#__codelineno-23-5><span class=linenos data-linenos="5 "></span></a><span class=p>}</span>
</span></code></pre></div> <p><strong>特点：</strong></p> <ul> <li>内部类的实例必须依附于外部类的实例创建。</li> <li>内部类可以访问外部类的私有字段和方法。</li> <li>外部类实例可通过 <code>Outer.Inner inner = outer.new Inner();</code> 创建内部类实例。</li> <li>编译后生成 <code>Outer.class</code> 和 <code>Outer$Inner.class</code>。</li> </ul> <p><strong>示例：</strong></p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1></a><a href=#__codelineno-24-1><span class=linenos data-linenos=" 1 "></span></a><span class=kd>class</span> <span class=nc>Outer</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2></a><a href=#__codelineno-24-2><span class=linenos data-linenos=" 2 "></span></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3></a><a href=#__codelineno-24-3><span class=linenos data-linenos=" 3 "></span></a>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4></a><a href=#__codelineno-24-4><span class=linenos data-linenos=" 4 "></span></a><span class=w>    </span><span class=n>Outer</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5></a><a href=#__codelineno-24-5><span class=linenos data-linenos=" 5 "></span></a><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-24-6><a id=__codelineno-24-6 name=__codelineno-24-6></a><a href=#__codelineno-24-6><span class=linenos data-linenos=" 6 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-24-7><a id=__codelineno-24-7 name=__codelineno-24-7></a><a href=#__codelineno-24-7><span class=linenos data-linenos=" 7 "></span></a>
</span><span id=__span-24-8><a id=__codelineno-24-8 name=__codelineno-24-8></a><a href=#__codelineno-24-8><span class=linenos data-linenos=" 8 "></span></a><span class=w>    </span><span class=kd>class</span> <span class=nc>Inner</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-9><a id=__codelineno-24-9 name=__codelineno-24-9></a><a href=#__codelineno-24-9><span class=linenos data-linenos=" 9 "></span></a><span class=w>        </span><span class=kt>void</span><span class=w> </span><span class=nf>hello</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-10><a id=__codelineno-24-10 name=__codelineno-24-10></a><a href=#__codelineno-24-10><span class=linenos data-linenos="10 "></span></a><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;Hello, &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Outer</span><span class=p>.</span><span class=na>this</span><span class=p>.</span><span class=na>name</span><span class=p>);</span>
</span><span id=__span-24-11><a id=__codelineno-24-11 name=__codelineno-24-11></a><a href=#__codelineno-24-11><span class=linenos data-linenos="11 "></span></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-24-12><a id=__codelineno-24-12 name=__codelineno-24-12></a><a href=#__codelineno-24-12><span class=linenos data-linenos="12 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-24-13><a id=__codelineno-24-13 name=__codelineno-24-13></a><a href=#__codelineno-24-13><span class=linenos data-linenos="13 "></span></a><span class=p>}</span>
</span><span id=__span-24-14><a id=__codelineno-24-14 name=__codelineno-24-14></a><a href=#__codelineno-24-14><span class=linenos data-linenos="14 "></span></a>
</span><span id=__span-24-15><a id=__codelineno-24-15 name=__codelineno-24-15></a><a href=#__codelineno-24-15><span class=linenos data-linenos="15 "></span></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Main</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-16><a id=__codelineno-24-16 name=__codelineno-24-16></a><a href=#__codelineno-24-16><span class=linenos data-linenos="16 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-24-17><a id=__codelineno-24-17 name=__codelineno-24-17></a><a href=#__codelineno-24-17><span class=linenos data-linenos="17 "></span></a><span class=w>        </span><span class=n>Outer</span><span class=w> </span><span class=n>outer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Outer</span><span class=p>(</span><span class=s>&quot;Nested&quot;</span><span class=p>);</span>
</span><span id=__span-24-18><a id=__codelineno-24-18 name=__codelineno-24-18></a><a href=#__codelineno-24-18><span class=linenos data-linenos="18 "></span></a><span class=w>        </span><span class=n>Outer</span><span class=p>.</span><span class=na>Inner</span><span class=w> </span><span class=n>inner</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>outer</span><span class=p>.</span><span class=na>new</span><span class=w> </span><span class=nf>Inner</span><span class=p>();</span>
</span><span id=__span-24-19><a id=__codelineno-24-19 name=__codelineno-24-19></a><a href=#__codelineno-24-19><span class=linenos data-linenos="19 "></span></a><span class=w>        </span><span class=n>inner</span><span class=p>.</span><span class=na>hello</span><span class=p>();</span>
</span><span id=__span-24-20><a id=__codelineno-24-20 name=__codelineno-24-20></a><a href=#__codelineno-24-20><span class=linenos data-linenos="20 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-24-21><a id=__codelineno-24-21 name=__codelineno-24-21></a><a href=#__codelineno-24-21><span class=linenos data-linenos="21 "></span></a><span class=p>}</span>
</span></code></pre></div> <hr> <h3 id=62-anonymous-class>6.2 Anonymous Class（匿名内部类）<a class=headerlink href=#62-anonymous-class title="Permanent link">&para;</a></h3> <p>用于快速实现接口或继承类的临时对象，通常在方法内部定义，无需命名。</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1></a><a href=#__codelineno-25-1><span class=linenos data-linenos="1 "></span></a><span class=n>Runnable</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Runnable</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2></a><a href=#__codelineno-25-2><span class=linenos data-linenos="2 "></span></a><span class=w>    </span><span class=nd>@Override</span>
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3></a><a href=#__codelineno-25-3><span class=linenos data-linenos="3 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>run</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-25-4><a id=__codelineno-25-4 name=__codelineno-25-4></a><a href=#__codelineno-25-4><span class=linenos data-linenos="4 "></span></a><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;Hello&quot;</span><span class=p>);</span>
</span><span id=__span-25-5><a id=__codelineno-25-5 name=__codelineno-25-5></a><a href=#__codelineno-25-5><span class=linenos data-linenos="5 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-25-6><a id=__codelineno-25-6 name=__codelineno-25-6></a><a href=#__codelineno-25-6><span class=linenos data-linenos="6 "></span></a><span class=p>};</span>
</span></code></pre></div> <p><strong>特点：</strong></p> <ul> <li>本质上是 Inner Class 的一种特殊写法。</li> <li>必须在定义时立即实例化。</li> <li>可访问外部类的私有字段。</li> <li>编译后生成如 <code>Outer$1.class</code> 的匿名类文件。</li> </ul> <p><strong>示例 1：实现接口</strong></p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1></a><a href=#__codelineno-26-1><span class=linenos data-linenos=" 1 "></span></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Main</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2></a><a href=#__codelineno-26-2><span class=linenos data-linenos=" 2 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3></a><a href=#__codelineno-26-3><span class=linenos data-linenos=" 3 "></span></a><span class=w>        </span><span class=n>Outer</span><span class=w> </span><span class=n>outer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Outer</span><span class=p>(</span><span class=s>&quot;Nested&quot;</span><span class=p>);</span>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4></a><a href=#__codelineno-26-4><span class=linenos data-linenos=" 4 "></span></a><span class=w>        </span><span class=c1>// 启动线程，内部会调用 r.run()，而不是直接调用 run() 方法</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5></a><a href=#__codelineno-26-5><span class=linenos data-linenos=" 5 "></span></a><span class=w>        </span><span class=n>outer</span><span class=p>.</span><span class=na>asyncHello</span><span class=p>();</span>
</span><span id=__span-26-6><a id=__codelineno-26-6 name=__codelineno-26-6></a><a href=#__codelineno-26-6><span class=linenos data-linenos=" 6 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-26-7><a id=__codelineno-26-7 name=__codelineno-26-7></a><a href=#__codelineno-26-7><span class=linenos data-linenos=" 7 "></span></a><span class=p>}</span>
</span><span id=__span-26-8><a id=__codelineno-26-8 name=__codelineno-26-8></a><a href=#__codelineno-26-8><span class=linenos data-linenos=" 8 "></span></a>
</span><span id=__span-26-9><a id=__codelineno-26-9 name=__codelineno-26-9></a><a href=#__codelineno-26-9><span class=linenos data-linenos=" 9 "></span></a><span class=kd>class</span> <span class=nc>Outer</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-10><a id=__codelineno-26-10 name=__codelineno-26-10></a><a href=#__codelineno-26-10><span class=linenos data-linenos="10 "></span></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-26-11><a id=__codelineno-26-11 name=__codelineno-26-11></a><a href=#__codelineno-26-11><span class=linenos data-linenos="11 "></span></a>
</span><span id=__span-26-12><a id=__codelineno-26-12 name=__codelineno-26-12></a><a href=#__codelineno-26-12><span class=linenos data-linenos="12 "></span></a><span class=w>    </span><span class=n>Outer</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-13><a id=__codelineno-26-13 name=__codelineno-26-13></a><a href=#__codelineno-26-13><span class=linenos data-linenos="13 "></span></a><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-26-14><a id=__codelineno-26-14 name=__codelineno-26-14></a><a href=#__codelineno-26-14><span class=linenos data-linenos="14 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-26-15><a id=__codelineno-26-15 name=__codelineno-26-15></a><a href=#__codelineno-26-15><span class=linenos data-linenos="15 "></span></a>
</span><span id=__span-26-16><a id=__codelineno-26-16 name=__codelineno-26-16></a><a href=#__codelineno-26-16><span class=linenos data-linenos="16 "></span></a><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>asyncHello</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-17><a id=__codelineno-26-17 name=__codelineno-26-17></a><a href=#__codelineno-26-17><span class=linenos data-linenos="17 "></span></a><span class=w>        </span><span class=n>Runnable</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Runnable</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-18><a id=__codelineno-26-18 name=__codelineno-26-18></a><a href=#__codelineno-26-18><span class=linenos data-linenos="18 "></span></a><span class=w>            </span><span class=nd>@Override</span>
</span><span id=__span-26-19><a id=__codelineno-26-19 name=__codelineno-26-19></a><a href=#__codelineno-26-19><span class=linenos data-linenos="19 "></span></a><span class=w>            </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>run</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-26-20><a id=__codelineno-26-20 name=__codelineno-26-20></a><a href=#__codelineno-26-20><span class=linenos data-linenos="20 "></span></a><span class=w>                </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;Hello, &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Outer</span><span class=p>.</span><span class=na>this</span><span class=p>.</span><span class=na>name</span><span class=p>);</span>
</span><span id=__span-26-21><a id=__codelineno-26-21 name=__codelineno-26-21></a><a href=#__codelineno-26-21><span class=linenos data-linenos="21 "></span></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-26-22><a id=__codelineno-26-22 name=__codelineno-26-22></a><a href=#__codelineno-26-22><span class=linenos data-linenos="22 "></span></a><span class=w>        </span><span class=p>};</span>
</span><span id=__span-26-23><a id=__codelineno-26-23 name=__codelineno-26-23></a><a href=#__codelineno-26-23><span class=linenos data-linenos="23 "></span></a><span class=w>        </span><span class=c1>// 用Runnable创建一个线程，并启动它</span>
</span><span id=__span-26-24><a id=__codelineno-26-24 name=__codelineno-26-24></a><a href=#__codelineno-26-24><span class=linenos data-linenos="24 "></span></a><span class=w>        </span><span class=k>new</span><span class=w> </span><span class=n>Thread</span><span class=p>(</span><span class=n>r</span><span class=p>).</span><span class=na>start</span><span class=p>();</span>
</span><span id=__span-26-25><a id=__codelineno-26-25 name=__codelineno-26-25></a><a href=#__codelineno-26-25><span class=linenos data-linenos="25 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-26-26><a id=__codelineno-26-26 name=__codelineno-26-26></a><a href=#__codelineno-26-26><span class=linenos data-linenos="26 "></span></a><span class=p>}</span>
</span></code></pre></div> <p>观察<code>asyncHello()</code>方法，我们在方法内部实例化了一个<code>Runnable</code>。<code>Runnable</code>本身是接口，接口是不能实例化的，所以这里实际上是定义了一个实现了<code>Runnable</code>接口的匿名类，并且通过<code>new</code>实例化该匿名类，然后转型为<code>Runnable</code>。</p> <p>之所以我们要定义匿名类，是因为在这里我们通常不关心类名，比直接定义Inner Class可以少写很多代码。</p> <p><strong>示例 2：继承类</strong></p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1></a><a href=#__codelineno-27-1><span class=linenos data-linenos=" 1 "></span></a><span class=kn>import</span><span class=w> </span><span class=nn>java.util.HashMap</span><span class=p>;</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2></a><a href=#__codelineno-27-2><span class=linenos data-linenos=" 2 "></span></a>
</span><span id=__span-27-3><a id=__codelineno-27-3 name=__codelineno-27-3></a><a href=#__codelineno-27-3><span class=linenos data-linenos=" 3 "></span></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Main</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-27-4><a id=__codelineno-27-4 name=__codelineno-27-4></a><a href=#__codelineno-27-4><span class=linenos data-linenos=" 4 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-27-5><a id=__codelineno-27-5 name=__codelineno-27-5></a><a href=#__codelineno-27-5><span class=linenos data-linenos=" 5 "></span></a><span class=w>        </span><span class=n>HashMap</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>map1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>HashMap</span><span class=o>&lt;&gt;</span><span class=p>();</span>
</span><span id=__span-27-6><a id=__codelineno-27-6 name=__codelineno-27-6></a><a href=#__codelineno-27-6><span class=linenos data-linenos=" 6 "></span></a><span class=w>        </span><span class=n>HashMap</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>map2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>HashMap</span><span class=o>&lt;&gt;</span><span class=p>()</span><span class=w> </span><span class=p>{};</span><span class=w> </span><span class=c1>// 匿名类!</span>
</span><span id=__span-27-7><a id=__codelineno-27-7 name=__codelineno-27-7></a><a href=#__codelineno-27-7><span class=linenos data-linenos=" 7 "></span></a><span class=w>        </span><span class=n>HashMap</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>map3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>HashMap</span><span class=o>&lt;&gt;</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-27-8><a id=__codelineno-27-8 name=__codelineno-27-8></a><a href=#__codelineno-27-8><span class=linenos data-linenos=" 8 "></span></a><span class=w>            </span><span class=p>{</span>
</span><span id=__span-27-9><a id=__codelineno-27-9 name=__codelineno-27-9></a><a href=#__codelineno-27-9><span class=linenos data-linenos=" 9 "></span></a><span class=w>                </span><span class=n>put</span><span class=p>(</span><span class=s>&quot;A&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;1&quot;</span><span class=p>);</span>
</span><span id=__span-27-10><a id=__codelineno-27-10 name=__codelineno-27-10></a><a href=#__codelineno-27-10><span class=linenos data-linenos="10 "></span></a><span class=w>                </span><span class=n>put</span><span class=p>(</span><span class=s>&quot;B&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;2&quot;</span><span class=p>);</span>
</span><span id=__span-27-11><a id=__codelineno-27-11 name=__codelineno-27-11></a><a href=#__codelineno-27-11><span class=linenos data-linenos="11 "></span></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-27-12><a id=__codelineno-27-12 name=__codelineno-27-12></a><a href=#__codelineno-27-12><span class=linenos data-linenos="12 "></span></a><span class=w>        </span><span class=p>};</span>
</span><span id=__span-27-13><a id=__codelineno-27-13 name=__codelineno-27-13></a><a href=#__codelineno-27-13><span class=linenos data-linenos="13 "></span></a><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>map3</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=s>&quot;A&quot;</span><span class=p>));</span>
</span><span id=__span-27-14><a id=__codelineno-27-14 name=__codelineno-27-14></a><a href=#__codelineno-27-14><span class=linenos data-linenos="14 "></span></a><span class=w>        </span><span class=c1>// 1</span>
</span><span id=__span-27-15><a id=__codelineno-27-15 name=__codelineno-27-15></a><a href=#__codelineno-27-15><span class=linenos data-linenos="15 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-27-16><a id=__codelineno-27-16 name=__codelineno-27-16></a><a href=#__codelineno-27-16><span class=linenos data-linenos="16 "></span></a><span class=p>}</span>
</span></code></pre></div> <p>通过 <code>new HashMap&lt;&gt;() { … }</code>，我们创建了 <code>HashMap</code> 的一个<strong>匿名子类</strong>。整个大括号 <code>{}</code> 中的内容，都是这个子类的类体。</p> <p><code>map1</code>是一个普通的<code>HashMap</code>实例，但<code>map2</code>是一个匿名类实例，只是该匿名类继承自<code>HashMap</code>。<code>map3</code>也是一个继承自<code>HashMap</code>的匿名类实例，并且添加了<code>static</code>代码块来初始化数据。</p> <p>匿名类<strong>无法</strong>声明命名构造方法，所以如果你想在对象创建时执行一段自定义逻辑，就需要用双层大括号中的内层 <code>{ … }</code>，这就是 Java 的<strong>实例初始化块</strong>。</p> <ul> <li>第一次 <code>{</code> 是匿名类的类体开始。</li> <li>第二次 <code>{</code> 是匿名类的初始化块。</li> </ul> <p>这种写法通常被称为“双括号初始化”，它等价于：</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1></a><a href=#__codelineno-28-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1>// 定义一个 HashMap 子类</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2></a><a href=#__codelineno-28-2><span class=linenos data-linenos=" 2 "></span></a><span class=kd>class</span> <span class=nc>MyMap</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>HashMap</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-28-3><a id=__codelineno-28-3 name=__codelineno-28-3></a><a href=#__codelineno-28-3><span class=linenos data-linenos=" 3 "></span></a><span class=w>    </span><span class=c1>// 实例初始化块</span>
</span><span id=__span-28-4><a id=__codelineno-28-4 name=__codelineno-28-4></a><a href=#__codelineno-28-4><span class=linenos data-linenos=" 4 "></span></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-28-5><a id=__codelineno-28-5 name=__codelineno-28-5></a><a href=#__codelineno-28-5><span class=linenos data-linenos=" 5 "></span></a><span class=w>        </span><span class=n>put</span><span class=p>(</span><span class=s>&quot;A&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;1&quot;</span><span class=p>);</span>
</span><span id=__span-28-6><a id=__codelineno-28-6 name=__codelineno-28-6></a><a href=#__codelineno-28-6><span class=linenos data-linenos=" 6 "></span></a><span class=w>        </span><span class=n>put</span><span class=p>(</span><span class=s>&quot;B&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;2&quot;</span><span class=p>);</span>
</span><span id=__span-28-7><a id=__codelineno-28-7 name=__codelineno-28-7></a><a href=#__codelineno-28-7><span class=linenos data-linenos=" 7 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-28-8><a id=__codelineno-28-8 name=__codelineno-28-8></a><a href=#__codelineno-28-8><span class=linenos data-linenos=" 8 "></span></a><span class=p>}</span>
</span><span id=__span-28-9><a id=__codelineno-28-9 name=__codelineno-28-9></a><a href=#__codelineno-28-9><span class=linenos data-linenos=" 9 "></span></a><span class=c1>// 创建子类实例</span>
</span><span id=__span-28-10><a id=__codelineno-28-10 name=__codelineno-28-10></a><a href=#__codelineno-28-10><span class=linenos data-linenos="10 "></span></a><span class=n>HashMap</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>map</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>MyMap</span><span class=p>();</span>
</span></code></pre></div> <hr> <h3 id=63-static-nested-class>6.3 Static Nested Class（静态内部类）<a class=headerlink href=#63-static-nested-class title="Permanent link">&para;</a></h3> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1></a><a href=#__codelineno-29-1><span class=linenos data-linenos="1 "></span></a><span class=kd>class</span> <span class=nc>Outer</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2></a><a href=#__codelineno-29-2><span class=linenos data-linenos="2 "></span></a><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kd>class</span> <span class=nc>StaticNested</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3></a><a href=#__codelineno-29-3><span class=linenos data-linenos="3 "></span></a><span class=w>        </span><span class=c1>// 静态内部类定义</span>
</span><span id=__span-29-4><a id=__codelineno-29-4 name=__codelineno-29-4></a><a href=#__codelineno-29-4><span class=linenos data-linenos="4 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-29-5><a id=__codelineno-29-5 name=__codelineno-29-5></a><a href=#__codelineno-29-5><span class=linenos data-linenos="5 "></span></a><span class=p>}</span>
</span></code></pre></div> <p><strong>特点：</strong></p> <ul> <li>使用 <code>static</code> 修饰，不依赖外部类实例即可创建。</li> <li>无法访问外部类的非静态成员。</li> <li>可访问外部类的私有静态成员。</li> <li>更类似于顶级类，只是作用域限定在外部类内部。</li> <li>编译后生成 <code>Outer$StaticNested.class</code>。</li> </ul> <p><strong>示例：</strong></p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1></a><a href=#__codelineno-30-1><span class=linenos data-linenos=" 1 "></span></a><span class=kd>class</span> <span class=nc>Outer</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2></a><a href=#__codelineno-30-2><span class=linenos data-linenos=" 2 "></span></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>NAME</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;OUTER&quot;</span><span class=p>;</span>
</span><span id=__span-30-3><a id=__codelineno-30-3 name=__codelineno-30-3></a><a href=#__codelineno-30-3><span class=linenos data-linenos=" 3 "></span></a>
</span><span id=__span-30-4><a id=__codelineno-30-4 name=__codelineno-30-4></a><a href=#__codelineno-30-4><span class=linenos data-linenos=" 4 "></span></a><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kd>class</span> <span class=nc>StaticNested</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-30-5><a id=__codelineno-30-5 name=__codelineno-30-5></a><a href=#__codelineno-30-5><span class=linenos data-linenos=" 5 "></span></a><span class=w>        </span><span class=kt>void</span><span class=w> </span><span class=nf>hello</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-30-6><a id=__codelineno-30-6 name=__codelineno-30-6></a><a href=#__codelineno-30-6><span class=linenos data-linenos=" 6 "></span></a><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;Hello, &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>NAME</span><span class=p>);</span>
</span><span id=__span-30-7><a id=__codelineno-30-7 name=__codelineno-30-7></a><a href=#__codelineno-30-7><span class=linenos data-linenos=" 7 "></span></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-30-8><a id=__codelineno-30-8 name=__codelineno-30-8></a><a href=#__codelineno-30-8><span class=linenos data-linenos=" 8 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-30-9><a id=__codelineno-30-9 name=__codelineno-30-9></a><a href=#__codelineno-30-9><span class=linenos data-linenos=" 9 "></span></a><span class=p>}</span>
</span><span id=__span-30-10><a id=__codelineno-30-10 name=__codelineno-30-10></a><a href=#__codelineno-30-10><span class=linenos data-linenos="10 "></span></a>
</span><span id=__span-30-11><a id=__codelineno-30-11 name=__codelineno-30-11></a><a href=#__codelineno-30-11><span class=linenos data-linenos="11 "></span></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Main</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-30-12><a id=__codelineno-30-12 name=__codelineno-30-12></a><a href=#__codelineno-30-12><span class=linenos data-linenos="12 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-30-13><a id=__codelineno-30-13 name=__codelineno-30-13></a><a href=#__codelineno-30-13><span class=linenos data-linenos="13 "></span></a><span class=w>        </span><span class=n>Outer</span><span class=p>.</span><span class=na>StaticNested</span><span class=w> </span><span class=n>sn</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Outer</span><span class=p>.</span><span class=na>StaticNested</span><span class=p>();</span>
</span><span id=__span-30-14><a id=__codelineno-30-14 name=__codelineno-30-14></a><a href=#__codelineno-30-14><span class=linenos data-linenos="14 "></span></a><span class=w>        </span><span class=n>sn</span><span class=p>.</span><span class=na>hello</span><span class=p>();</span>
</span><span id=__span-30-15><a id=__codelineno-30-15 name=__codelineno-30-15></a><a href=#__codelineno-30-15><span class=linenos data-linenos="15 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-30-16><a id=__codelineno-30-16 name=__codelineno-30-16></a><a href=#__codelineno-30-16><span class=linenos data-linenos="16 "></span></a><span class=p>}</span>
</span></code></pre></div> <p>用<code>static</code>修饰的内部类和Inner Class有很大的不同，它不再依附于<code>Outer</code>的实例，而是一个完全独立的类，因此无法引用<code>Outer.this</code>，但它可以访问<code>Outer</code>的<code>private</code>静态字段和静态方法。如果把<code>StaticNested</code>移到<code>Outer</code>之外，就失去了访问<code>private</code>的权限。</p> <hr> <h3 id=_4>总结<a class=headerlink href=#_4 title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>特性/类型</th> <th><strong>Inner Class（成员内部类）</strong></th> <th><strong>Anonymous Class（匿名类）</strong></th> <th><strong>Static Nested Class（静态内部类）</strong></th> </tr> </thead> <tbody> <tr> <td><strong>是否依附外部类实例</strong></td> <td>是，需要先创建外部类实例后才能创建内部类实例</td> <td>是，在外部类方法中定义并依附外部类实例</td> <td>否，是静态的，可以脱离外部类实例直接创建</td> </tr> <tr> <td><strong>是否可以是 static</strong></td> <td>否，不能声明为 static</td> <td>否，匿名类不能声明为 static</td> <td>是，本身就是 static 的类</td> </tr> <tr> <td><strong>是否有类名</strong></td> <td>有，具名类</td> <td>无，在定义时直接实例化</td> <td>有，具名类</td> </tr> <tr> <td><strong>是否可以继承类或实现接口</strong></td> <td>可以继承类或实现接口</td> <td>通常用于实现接口或继承一个类</td> <td>可以继承类或实现接口</td> </tr> <tr> <td><strong>访问外部类的能力</strong></td> <td>可访问外部类的所有成员（包括 private 字段和方法）</td> <td>可访问外部类的所有成员（包括 private 字段和方法）</td> <td>只能访问外部类的 static 成员（包括 private static 字段和方法）</td> </tr> <tr> <td><strong>是否能定义构造方法</strong></td> <td>可以定义自己的构造方法</td> <td>不可以定义构造方法，只能使用初始化代码块</td> <td>可以定义自己的构造方法</td> </tr> <tr> <td><strong>用途</strong></td> <td>用于需要多个类共享外部类状态，且逻辑上属于外部类的一部分的场景</td> <td>用于临时实现接口或继承类，且不需要复用类名时；常用于事件回调、线程等</td> <td>用于将某些与外部类逻辑相关但不依赖外部类实例的类组织在一起，如工具类、静态常量类等</td> </tr> <tr> <td><strong>创建方式</strong></td> <td><code>Outer.Inner inner = outer.new Inner();</code></td> <td><code>Runnable r = new Runnable() { public void run() {...} };</code></td> <td><code>Outer.StaticNested nested = new Outer.StaticNested();</code></td> </tr> <tr> <td><strong>编译后的文件名</strong></td> <td><code>Outer$Inner.class</code></td> <td><code>Outer$1.class</code>、<code>Outer$2.class</code>（多个匿名类会依次编号）</td> <td><code>Outer$StaticNested.class</code></td> </tr> <tr> <td><strong>是否支持多层嵌套</strong></td> <td>支持，可以在内部类中再定义内部类</td> <td>支持，可以嵌套定义匿名类</td> <td>支持，可以在静态内部类中定义其他类</td> </tr> </tbody> </table> <hr> <h2 id=7-classpathjar>7. Classpath和Jar<a class=headerlink href=#7-classpathjar title="Permanent link">&para;</a></h2> <p>Java 是编译型语言，<code>.java</code> 文件编译后变为 <code>.class</code> 文件，JVM 执行的是 <code>.class</code> 字节码文件。因此，JVM 需要知道从哪里加载这些 <code>.class</code> 文件。</p> <p>Classpath 是 JVM 的一个环境变量，用于 <strong>指示 JVM 如何查找</strong> <strong><code>.class</code></strong> <strong>文件</strong>，也就是告诉 JVM 去哪里加载某个类。</p> <h3 id=71-classpath>7.1 Classpath的搜索过程<a class=headerlink href=#71-classpath title="Permanent link">&para;</a></h3> <p>Classpath 是一组目录或 JAR 文件的集合，其格式与操作系统有关：</p> <p><strong>Windows 系统</strong>：使用 <code>;</code> 分隔，带空格的路径用引号包裹</p> <div class="language-mathematica highlight"><span class=filename>Mathematica</span><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1></a><a href=#__codelineno-31-1><span class=linenos data-linenos="1 "></span></a><span class=err>.</span><span class=p>;</span><span class=n>C</span><span class=err>:\</span><span class=n>work</span><span class=err>\</span><span class=n>project1</span><span class=err>\</span><span class=n>bin</span><span class=p>;</span><span class=n>C</span><span class=err>:\</span><span class=n>shared</span><span class=p>;</span><span class=s>&quot;D:\My Documents\project1\bin&quot;</span>
</span></code></pre></div> <p><strong>Linux 系统</strong>：使用 <code>:</code> 分隔</p> <div class="language-ruby highlight"><span class=filename>Ruby</span><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1></a><a href=#__codelineno-32-1><span class=linenos data-linenos="1 "></span></a><span class=o>.</span><span class=ss>:/</span><span class=n>usr</span><span class=o>/</span><span class=n>local</span><span class=o>/</span><span class=ss>bin</span><span class=p>:</span><span class=sr>/home/use</span><span class=n>r</span><span class=o>/</span><span class=n>bin</span>
</span></code></pre></div> <blockquote> <p><code>.</code> 表示当前目录。</p> </blockquote> <p>假设 classpath 为：</p> <div class="language-mathematica highlight"><span class=filename>Mathematica</span><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1></a><a href=#__codelineno-33-1><span class=linenos data-linenos="1 "></span></a><span class=err>.</span><span class=p>;</span><span class=n>C</span><span class=err>:\</span><span class=n>work</span><span class=err>\</span><span class=n>project1</span><span class=err>\</span><span class=n>bin</span><span class=p>;</span><span class=n>C</span><span class=err>:\</span><span class=n>shared</span>
</span></code></pre></div> <p>要加载类 <code>abc.xyz.Hello</code> 时，JVM 会查找以下路径：</p> <ol> <li><code>.\abc\xyz\Hello.class</code></li> <li><code>C:\work\project1\bin\abc\xyz\Hello.class</code></li> <li><code>C:\shared\abc\xyz\Hello.class</code></li> </ol> <p>一旦找到，不再继续搜索；找不到就报错。</p> <hr> <h3 id=72-classpath>7.2 Classpath的设置<a class=headerlink href=#72-classpath title="Permanent link">&para;</a></h3> <p>classpath的设置方式有两种：</p> <p><strong>推荐方式：运行时指定 classpath</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1></a><a href=#__codelineno-34-1><span class=linenos data-linenos="1 "></span></a>java<span class=w> </span>-cp<span class=w> </span>.<span class=p>;</span>C:<span class=se>\w</span>ork<span class=se>\p</span>roject1<span class=se>\b</span>in<span class=p>;</span>C:<span class=se>\s</span>hared<span class=w> </span>abc.xyz.Hello
</span></code></pre></div> <p><strong>不推荐方式：设置系统环境变量</strong> <strong><code>CLASSPATH</code></strong></p> <ul> <li>容易污染整个系统环境</li> <li>影响其他项目</li> <li>难以维护</li> </ul> <p>如果没有显式设置，JVM 的默认 classpath 是当前目录。</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1></a><a href=#__codelineno-35-1><span class=linenos data-linenos="1 "></span></a>java<span class=w> </span>abc.xyz.Hello
</span></code></pre></div> <p>IDE（如 IntelliJ IDEA、Eclipse）在运行 Java 程序时，会自动为你添加 classpath 参数，包括：</p> <ul> <li>当前项目的 <code>bin</code> 或 <code>out</code> 目录</li> <li>所有依赖的 JAR 包</li> </ul> <p>JVM <strong>不依赖 classpath 加载 Java 核心类库</strong>（如 <code>String</code>、<code>ArrayList</code>），而是通过自己的机制加载，不需要你手动添加 <code>rt.jar</code>。</p> <blockquote> <p><strong>切记</strong>：不要把 Java 核心库加入 classpath！</p> </blockquote> <hr> <h3 id=73-jar>7.3 创建Jar包<a class=headerlink href=#73-jar title="Permanent link">&para;</a></h3> <p>Jar 是 <strong>Java Archive</strong> 的缩写，实质上是一个 ZIP 格式压缩包，方便分发、备份、发布多个 <code>.class</code> 文件。</p> <p><strong>运行：</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1></a><a href=#__codelineno-36-1><span class=linenos data-linenos="1 "></span></a>java<span class=w> </span>-cp<span class=w> </span>./hello.jar<span class=w> </span>abc.xyz.Hello
</span></code></pre></div> <p>JVM 会在 jar 文件中按包路径查找类。</p> <p><strong>手动创建Jar包（适用于简单项目）：</strong></p> <p>因为jar包就是zip包，所以，直接在资源管理器中，找到正确的目录，点击右键，在弹出的快捷菜单中选择“发送到”，“压缩(zipped)文件夹”，就制作了一个zip文件。然后，把后缀从<code>.zip</code>改为<code>.jar</code>，一个jar包就创建成功。</p> <ol> <li>保证包路径正确，如：</li> </ol> <div class="language-css highlight"><span class=filename>CSS</span><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1></a><a href=#__codelineno-37-1><span class=linenos data-linenos="1 "></span></a><span class=nt>hong</span><span class=o>/</span><span class=nt>Person</span><span class=p>.</span><span class=nc>class</span>
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2></a><a href=#__codelineno-37-2><span class=linenos data-linenos="2 "></span></a><span class=nt>ming</span><span class=o>/</span><span class=nt>Person</span><span class=p>.</span><span class=nc>class</span>
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3></a><a href=#__codelineno-37-3><span class=linenos data-linenos="3 "></span></a><span class=nt>mr</span><span class=o>/</span><span class=nt>jun</span><span class=o>/</span><span class=nt>Arrays</span><span class=p>.</span><span class=nc>class</span>
</span></code></pre></div> <p>注意：<strong>不要把这些文件放在</strong> <strong><code>bin/</code></strong> <strong>目录内打包</strong>，否则路径会错误。</p> <ol start=2> <li>压缩为 ZIP 文件 → 修改后缀为 <code>.jar</code></li> </ol> <p>jar包还可以包含一个特殊的<code>/META-INF/MANIFEST.MF</code>文件，<code>MANIFEST.MF</code>是纯文本，可以指定<code>Main-Class</code>和其它信息。JVM会自动读取这个<code>MANIFEST.MF</code>文件，如果存在<code>Main-Class</code>，我们就不必在命令行指定启动的类名，而是用更方便的命令：</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-38-1><a id=__codelineno-38-1 name=__codelineno-38-1></a><a href=#__codelineno-38-1><span class=linenos data-linenos="1 "></span></a><span class=n>java</span><span class=w> </span><span class=o>-</span><span class=n>jar</span><span class=w> </span><span class=n>hello</span><span class=p>.</span><span class=na>jar</span>
</span></code></pre></div> <p>在大型项目中，不可能手动编写<code>MANIFEST.MF</code>文件，再手动创建jar包。Java社区提供了大量的开源构建工具，例如Maven，可以非常方便地创建jar包。</p> <hr> <h2 id=8-jdkclass>8. JDK与Class版本<a class=headerlink href=#8-jdkclass title="Permanent link">&para;</a></h2> <p>在 Java 开发中，不同版本的 JDK（Java Development Kit）会带来不同的 class 文件版本，所谓的 Java 8、Java 11、Java 17，是指 JDK 的版本，准确来说是 <code>java.exe</code>（即 JVM） 的版本。</p> <p>每个 JDK 编译器默认生成的 <code>.class</code> 文件有一个固定的版本号：</p> <table> <thead> <tr> <th>JDK 版本</th> <th>class 文件版本</th> </tr> </thead> <tbody> <tr> <td>Java 8</td> <td>52</td> </tr> <tr> <td>Java 11</td> <td>55</td> </tr> <tr> <td>Java 17</td> <td>61</td> </tr> </tbody> </table> <p>可通过以下命令查看当前 JDK 版本：</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-39-1><a id=__codelineno-39-1 name=__codelineno-39-1></a><a href=#__codelineno-39-1><span class=linenos data-linenos="1 "></span></a>$<span class=w> </span>java<span class=w> </span>-version
</span></code></pre></div> <p>高版本 JVM 可以运行低版本 class 文件（<strong>向下兼容</strong>）。</p> <p>低版本 JVM 无法运行高版本 class 文件，运行时会报错：</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-40-1><a id=__codelineno-40-1 name=__codelineno-40-1></a><a href=#__codelineno-40-1><span class=linenos data-linenos="1 "></span></a>java.lang.UnsupportedClassVersionError:<span class=w> </span>Xxx<span class=w> </span>has<span class=w> </span>been<span class=w> </span>compiled<span class=w> </span>by<span class=w> </span>a<span class=w> </span>more<span class=w> </span>recent<span class=w> </span>version<span class=w> </span>of<span class=w> </span>the<span class=w> </span>Java<span class=w> </span>Runtime...
</span></code></pre></div> <p>只要看到<code>UnsupportedClassVersionError</code>就表示当前要加载的class文件版本超过了JVM的能力，必须使用更高版本的JVM才能运行。</p> <hr> <p>指定编译输出的 class 文件版本：</p> <p><strong>方式一：</strong> 使用 <code>--release</code> 参数（推荐）</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-41-1><a id=__codelineno-41-1 name=__codelineno-41-1></a><a href=#__codelineno-41-1><span class=linenos data-linenos="1 "></span></a>$<span class=w> </span>javac<span class=w> </span>--release<span class=w> </span><span class=m>11</span><span class=w> </span>Main.java
</span></code></pre></div> <p>参数<code>--release 11</code>表示源码兼容Java 11，编译的class输出版本为Java 11兼容，即class版本55。</p> <p><strong>方式二：</strong> 使用 <code>--source</code> 和 <code>--target</code></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-42-1><a id=__codelineno-42-1 name=__codelineno-42-1></a><a href=#__codelineno-42-1><span class=linenos data-linenos="1 "></span></a>$<span class=w> </span>javac<span class=w> </span>--source<span class=w> </span><span class=m>9</span><span class=w> </span>--target<span class=w> </span><span class=m>11</span><span class=w> </span>Main.java
</span></code></pre></div> <p><code>--source</code>: 源代码版本</p> <p><code>--target</code>: 输出 class 文件的版本</p> <p>上述命令如果使用Java 17的JDK编译，它会把源码视为Java 9兼容版本，并输出class为Java 11兼容版本。注意<code>--release</code>参数和<code>--source</code> <code>--target</code>参数只能二选一，不能同时设置。</p> <p>此方式不会验证 API 是否在目标版本中存在，可能出现运行时错误。</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-43-1><a id=__codelineno-43-1 name=__codelineno-43-1></a><a href=#__codelineno-43-1><span class=linenos data-linenos="1 "></span></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Hello</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-43-2><a id=__codelineno-43-2 name=__codelineno-43-2></a><a href=#__codelineno-43-2><span class=linenos data-linenos="2 "></span></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>hello</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-43-3><a id=__codelineno-43-3 name=__codelineno-43-3></a><a href=#__codelineno-43-3><span class=linenos data-linenos="3 "></span></a><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;hello&quot;</span><span class=p>.</span><span class=na>indent</span><span class=p>(</span><span class=mi>4</span><span class=p>));</span>
</span><span id=__span-43-4><a id=__codelineno-43-4 name=__codelineno-43-4></a><a href=#__codelineno-43-4><span class=linenos data-linenos="4 "></span></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-43-5><a id=__codelineno-43-5 name=__codelineno-43-5></a><a href=#__codelineno-43-5><span class=linenos data-linenos="5 "></span></a><span class=p>}</span>
</span></code></pre></div> <p>方法 <code>String.indent()</code> 是 Java 12 引入的，如果使用 Java 17 编译（指定 <code>--source 9 --target 11</code>）但在 Java 11 JVM 上运行，会出现：</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-44-1><a id=__codelineno-44-1 name=__codelineno-44-1></a><a href=#__codelineno-44-1><span class=linenos data-linenos="1 "></span></a><span class=nl>NoSuchMethodError</span><span class=p>:</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>lang</span><span class=p>.</span><span class=na>String</span><span class=p>.</span><span class=na>indent</span>
</span></code></pre></div> <p>使用 <code>--release 11</code> 编译时，会在编译阶段就报错，避免了这种情况。</p> <hr> <p>多版本 JDK 可并存，通过 <code>JAVA_HOME</code> 和 <code>PATH</code> 控制当前使用版本</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-45-1><a id=__codelineno-45-1 name=__codelineno-45-1></a><a href=#__codelineno-45-1><span class=linenos data-linenos="1 "></span></a><span class=c1># 临时切换 JDK 版本示例</span>
</span><span id=__span-45-2><a id=__codelineno-45-2 name=__codelineno-45-2></a><a href=#__codelineno-45-2><span class=linenos data-linenos="2 "></span></a>&lt;div<span class=w> </span><span class=nv>markdown</span><span class=o>=</span><span class=s2>&quot;1&quot;</span><span class=w> </span><span class=nv>style</span><span class=o>=</span><span class=s2>&quot;margin-top: -30px; font-size: 0.75em; opacity: 0.7;&quot;</span>&gt;
</span><span id=__span-45-3><a id=__codelineno-45-3 name=__codelineno-45-3></a><a href=#__codelineno-45-3><span class=linenos data-linenos="3 "></span></a>:material-circle-edit-outline:<span class=w> </span>约<span class=w> </span><span class=m>4871</span><span class=w> </span>个字<span class=w> </span>:fontawesome-solid-code:<span class=w> </span><span class=m>374</span><span class=w> </span>行代码<span class=w> </span>:material-clock-time-two-outline:<span class=w> </span>预计阅读时间<span class=w> </span><span class=m>29</span><span class=w> </span>分钟
</span><span id=__span-45-4><a id=__codelineno-45-4 name=__codelineno-45-4></a><a href=#__codelineno-45-4><span class=linenos data-linenos="4 "></span></a>&lt;/div&gt;
</span><span id=__span-45-5><a id=__codelineno-45-5 name=__codelineno-45-5></a><a href=#__codelineno-45-5><span class=linenos data-linenos="5 "></span></a>$<span class=w> </span><span class=nb>export</span><span class=w> </span><span class=nv>JAVA_HOME</span><span class=o>=</span>/path/to/jdk11
</span><span id=__span-45-6><a id=__codelineno-45-6 name=__codelineno-45-6></a><a href=#__codelineno-45-6><span class=linenos data-linenos="6 "></span></a>$<span class=w> </span><span class=nb>export</span><span class=w> </span><span class=nv>PATH</span><span class=o>=</span><span class=nv>$JAVA_HOME</span>/bin:<span class=nv>$PATH</span>
</span></code></pre></div> <p><strong>总结：</strong></p> <table> <thead> <tr> <th>场景</th> <th>推荐做法</th> </tr> </thead> <tbody> <tr> <td>控制兼容性</td> <td>使用 <code>--release</code> 参数</td> </tr> <tr> <td>检查 API 是否存在</td> <td>使用 <code>--release</code> 而不是 <code>--source/--target</code></td> </tr> <tr> <td>编译运行一致性</td> <td>编译版本不高于运行时 JDK</td> </tr> <tr> <td>多版本管理</td> <td>通过 <code>JAVA_HOME</code> 管理多个 JDK</td> </tr> </tbody> </table> <hr> <h2 id=9-module>9. 模块（Module）<a class=headerlink href=#9-module title="Permanent link">&para;</a></h2> <p>模块是带有<strong>依赖声明</strong>和<strong>导出信息</strong>的类容器，Java 9 起，JDK 自带模块不再是 rt.jar，而是以 <code>.jmod</code> 存在于 <code>$JAVA_HOME/jmods</code> 目录下，所有模块都依赖 <code>java.base</code>，它是<strong>根模块。</strong></p> <p>Java 9 之前，程序是由多个 <code>.class</code> 文件组成，通过 <strong>jar</strong> 打包，这会导致<strong>依赖管理混乱</strong>：</p> <ul> <li>需要手动指定 classpath；</li> <li>若漏写 jar 包路径，运行时报 <code>ClassNotFoundException</code>；</li> <li><code>jar</code> 文件只是容器，不具备依赖信息。</li> </ul> <p>模块的目的就是解决依赖关系管理混乱的问题、支持 JRE 按需裁剪（瘦身）、增强访问权限控制。</p> <hr> <h3 id=91>9.1 创建模块<a class=headerlink href=#91 title="Permanent link">&para;</a></h3> <p>以<code>oop-module</code>工程为例，它的目录结构如下：</p> <div class="language-css highlight"><span class=filename>CSS</span><pre><span></span><code><span id=__span-46-1><a id=__codelineno-46-1 name=__codelineno-46-1></a><a href=#__codelineno-46-1><span class=linenos data-linenos=" 1 "></span></a><span class=nt>oop-module</span>
</span><span id=__span-46-2><a id=__codelineno-46-2 name=__codelineno-46-2></a><a href=#__codelineno-46-2><span class=linenos data-linenos=" 2 "></span></a><span class=err>├──</span><span class=w> </span><span class=nt>bin</span>
</span><span id=__span-46-3><a id=__codelineno-46-3 name=__codelineno-46-3></a><a href=#__codelineno-46-3><span class=linenos data-linenos=" 3 "></span></a><span class=err>├──</span><span class=w> </span><span class=nt>build</span><span class=p>.</span><span class=nc>sh</span>
</span><span id=__span-46-4><a id=__codelineno-46-4 name=__codelineno-46-4></a><a href=#__codelineno-46-4><span class=linenos data-linenos=" 4 "></span></a><span class=err>└──</span><span class=w> </span><span class=nt>src</span>
</span><span id=__span-46-5><a id=__codelineno-46-5 name=__codelineno-46-5></a><a href=#__codelineno-46-5><span class=linenos data-linenos=" 5 "></span></a><span class=w>    </span><span class=err>├──</span><span class=w> </span><span class=nt>com</span>
</span><span id=__span-46-6><a id=__codelineno-46-6 name=__codelineno-46-6></a><a href=#__codelineno-46-6><span class=linenos data-linenos=" 6 "></span></a><span class=w>    </span><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>itranswarp</span>
</span><span id=__span-46-7><a id=__codelineno-46-7 name=__codelineno-46-7></a><a href=#__codelineno-46-7><span class=linenos data-linenos=" 7 "></span></a><span class=w>    </span><span class=err>│</span><span class=w>       </span><span class=err>└──</span><span class=w> </span><span class=nt>sample</span>
</span><span id=__span-46-8><a id=__codelineno-46-8 name=__codelineno-46-8></a><a href=#__codelineno-46-8><span class=linenos data-linenos=" 8 "></span></a><span class=w>    </span><span class=err>│</span><span class=w>           </span><span class=err>├──</span><span class=w> </span><span class=nt>Greeting</span><span class=p>.</span><span class=nc>java</span>
</span><span id=__span-46-9><a id=__codelineno-46-9 name=__codelineno-46-9></a><a href=#__codelineno-46-9><span class=linenos data-linenos=" 9 "></span></a><span class=w>    </span><span class=err>│</span><span class=w>           </span><span class=err>└──</span><span class=w> </span><span class=nt>Main</span><span class=p>.</span><span class=nc>java</span>
</span><span id=__span-46-10><a id=__codelineno-46-10 name=__codelineno-46-10></a><a href=#__codelineno-46-10><span class=linenos data-linenos="10 "></span></a><span class=w>    </span><span class=err>└──</span><span class=w> </span><span class=nt>module-info</span><span class=p>.</span><span class=nc>java</span>
</span></code></pre></div> <p>其中，<code>bin</code>目录存放编译后的class文件，<code>src</code>目录存放源码，按包名的目录结构存放，仅仅在<code>src</code>目录下多了一个<code>module-info.java</code>这个文件，这就是模块的描述文件。</p> <p><code>module-info.java</code> 示例：</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-47-1><a id=__codelineno-47-1 name=__codelineno-47-1></a><a href=#__codelineno-47-1><span class=linenos data-linenos="1 "></span></a><span class=n>module</span><span class=w> </span><span class=n>hello</span><span class=p>.</span><span class=na>world</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-47-2><a id=__codelineno-47-2 name=__codelineno-47-2></a><a href=#__codelineno-47-2><span class=linenos data-linenos="2 "></span></a><span class=w>    </span><span class=n>requires</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>base</span><span class=p>;</span><span class=w> </span><span class=c1>// 可不写，任何模块都会自动引入java.base</span>
</span><span id=__span-47-3><a id=__codelineno-47-3 name=__codelineno-47-3></a><a href=#__codelineno-47-3><span class=linenos data-linenos="3 "></span></a><span class=w>    </span><span class=n>requires</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>xml</span><span class=p>;</span><span class=w>  </span><span class=c1>// 声明依赖关系</span>
</span><span id=__span-47-4><a id=__codelineno-47-4 name=__codelineno-47-4></a><a href=#__codelineno-47-4><span class=linenos data-linenos="4 "></span></a><span class=p>}</span>
</span></code></pre></div> <p>其中，<code>module</code>是关键字，后面的<code>hello.world</code>是模块的名称，它的命名规范与包一致。花括号的<code>requires xxx;</code>表示这个模块需要引用的其他模块名。除了<code>java.base</code>可以被自动引入外，这里我们引入了一个<code>java.xml</code>的模块。</p> <hr> <h3 id=92>9.2 编译与打包模块<a class=headerlink href=#92 title="Permanent link">&para;</a></h3> <p>首先，我们把工作目录切换到<code>oop-module</code>，在当前目录下编译所有的<code>.java</code>文件，并存放到bin目录下。</p> <p><strong>编译命令：</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-48-1><a id=__codelineno-48-1 name=__codelineno-48-1></a><a href=#__codelineno-48-1><span class=linenos data-linenos="1 "></span></a>javac<span class=w> </span>-d<span class=w> </span>bin<span class=w> </span>src/module-info.java<span class=w> </span>src/com/itranswarp/sample/*.java
</span></code></pre></div> <p>如果编译成功，现在项目结构如下：</p> <div class="language-css highlight"><span class=filename>CSS</span><pre><span></span><code><span id=__span-49-1><a id=__codelineno-49-1 name=__codelineno-49-1></a><a href=#__codelineno-49-1><span class=linenos data-linenos=" 1 "></span></a><span class=nt>oop-module</span>
</span><span id=__span-49-2><a id=__codelineno-49-2 name=__codelineno-49-2></a><a href=#__codelineno-49-2><span class=linenos data-linenos=" 2 "></span></a><span class=err>├──</span><span class=w> </span><span class=nt>bin</span>
</span><span id=__span-49-3><a id=__codelineno-49-3 name=__codelineno-49-3></a><a href=#__codelineno-49-3><span class=linenos data-linenos=" 3 "></span></a><span class=err>│</span><span class=w>   </span><span class=err>├──</span><span class=w> </span><span class=nt>com</span>
</span><span id=__span-49-4><a id=__codelineno-49-4 name=__codelineno-49-4></a><a href=#__codelineno-49-4><span class=linenos data-linenos=" 4 "></span></a><span class=err>│</span><span class=w>   </span><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>itranswarp</span>
</span><span id=__span-49-5><a id=__codelineno-49-5 name=__codelineno-49-5></a><a href=#__codelineno-49-5><span class=linenos data-linenos=" 5 "></span></a><span class=err>│</span><span class=w>   </span><span class=err>│</span><span class=w>       </span><span class=err>└──</span><span class=w> </span><span class=nt>sample</span>
</span><span id=__span-49-6><a id=__codelineno-49-6 name=__codelineno-49-6></a><a href=#__codelineno-49-6><span class=linenos data-linenos=" 6 "></span></a><span class=err>│</span><span class=w>   </span><span class=err>│</span><span class=w>           </span><span class=err>├──</span><span class=w> </span><span class=nt>Greeting</span><span class=p>.</span><span class=nc>class</span>
</span><span id=__span-49-7><a id=__codelineno-49-7 name=__codelineno-49-7></a><a href=#__codelineno-49-7><span class=linenos data-linenos=" 7 "></span></a><span class=err>│</span><span class=w>   </span><span class=err>│</span><span class=w>           </span><span class=err>└──</span><span class=w> </span><span class=nt>Main</span><span class=p>.</span><span class=nc>class</span>
</span><span id=__span-49-8><a id=__codelineno-49-8 name=__codelineno-49-8></a><a href=#__codelineno-49-8><span class=linenos data-linenos=" 8 "></span></a><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>module-info</span><span class=p>.</span><span class=nc>class</span>
</span><span id=__span-49-9><a id=__codelineno-49-9 name=__codelineno-49-9></a><a href=#__codelineno-49-9><span class=linenos data-linenos=" 9 "></span></a><span class=err>└──</span><span class=w> </span><span class=nt>src</span>
</span><span id=__span-49-10><a id=__codelineno-49-10 name=__codelineno-49-10></a><a href=#__codelineno-49-10><span class=linenos data-linenos="10 "></span></a><span class=w>    </span><span class=err>├──</span><span class=w> </span><span class=nt>com</span>
</span><span id=__span-49-11><a id=__codelineno-49-11 name=__codelineno-49-11></a><a href=#__codelineno-49-11><span class=linenos data-linenos="11 "></span></a><span class=w>    </span><span class=err>│</span><span class=w>   </span><span class=err>└──</span><span class=w> </span><span class=nt>itranswarp</span>
</span><span id=__span-49-12><a id=__codelineno-49-12 name=__codelineno-49-12></a><a href=#__codelineno-49-12><span class=linenos data-linenos="12 "></span></a><span class=w>    </span><span class=err>│</span><span class=w>       </span><span class=err>└──</span><span class=w> </span><span class=nt>sample</span>
</span><span id=__span-49-13><a id=__codelineno-49-13 name=__codelineno-49-13></a><a href=#__codelineno-49-13><span class=linenos data-linenos="13 "></span></a><span class=w>    </span><span class=err>│</span><span class=w>           </span><span class=err>├──</span><span class=w> </span><span class=nt>Greeting</span><span class=p>.</span><span class=nc>java</span>
</span><span id=__span-49-14><a id=__codelineno-49-14 name=__codelineno-49-14></a><a href=#__codelineno-49-14><span class=linenos data-linenos="14 "></span></a><span class=w>    </span><span class=err>│</span><span class=w>           </span><span class=err>└──</span><span class=w> </span><span class=nt>Main</span><span class=p>.</span><span class=nc>java</span>
</span><span id=__span-49-15><a id=__codelineno-49-15 name=__codelineno-49-15></a><a href=#__codelineno-49-15><span class=linenos data-linenos="15 "></span></a><span class=w>    </span><span class=err>└──</span><span class=w> </span><span class=nt>module-info</span><span class=p>.</span><span class=nc>java</span>
</span></code></pre></div> <p><strong>打包成 jar：</strong></p> <p>把<code>bin</code>目录下的所有<code>class</code>文件先打包成<code>jar</code>，在打包的时候，注意传入<code>--main-class</code>参数，让这个<code>jar</code>包能自己定位<code>main</code>方法所在的类</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-50-1><a id=__codelineno-50-1 name=__codelineno-50-1></a><a href=#__codelineno-50-1><span class=linenos data-linenos="1 "></span></a>jar<span class=w> </span>--create<span class=w> </span>--file<span class=w> </span>hello.jar<span class=w> </span>--main-class<span class=w> </span>com.itranswarp.sample.Main<span class=w> </span>-C<span class=w> </span>bin<span class=w> </span>.
</span></code></pre></div> <p>现在我们就在当前目录下得到了<code>hello.jar</code>这个jar包，它和普通jar包并无区别，可以直接使用命令<code>java -jar hello.jar</code>来运行它。</p> <p><strong>转换为模块（jmod）：</strong></p> <p>我们的目标是创建模块，所以，继续使用JDK自带的<code>jmod</code>命令把一个jar包转换成模块</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-51-1><a id=__codelineno-51-1 name=__codelineno-51-1></a><a href=#__codelineno-51-1><span class=linenos data-linenos="1 "></span></a>jmod<span class=w> </span>create<span class=w> </span>--class-path<span class=w> </span>hello.jar<span class=w> </span>hello.jmod
</span></code></pre></div> <hr> <h3 id=93>9.3 运行模块<a class=headerlink href=#93 title="Permanent link">&para;</a></h3> <p>使用 jar 运行：</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-52-1><a id=__codelineno-52-1 name=__codelineno-52-1></a><a href=#__codelineno-52-1><span class=linenos data-linenos="1 "></span></a><span class=n>java</span><span class=w> </span><span class=o>--</span><span class=n>module</span><span class=o>-</span><span class=n>path</span><span class=w> </span><span class=n>hello</span><span class=p>.</span><span class=na>jar</span><span class=w> </span><span class=o>--</span><span class=n>module</span><span class=w> </span><span class=n>hello</span><span class=p>.</span><span class=na>world</span>
</span></code></pre></div> <p>注意：<strong>不能直接运行 .jmod 文件</strong>：<code>.jmod</code> 是编译期使用的格式，运行时需使用 <code>.jar</code>。</p> <hr> <h3 id=94-jre-jlink>9.4 打包自定义 JRE（使用 jlink）<a class=headerlink href=#94-jre-jlink title="Permanent link">&para;</a></h3> <p>过去发布一个Java应用程序，要运行它，必须下载一个完整的JRE，再运行jar包。而完整的JRE块头很大，有100多M。</p> <p>现在，JRE自身的标准库已经分拆成了模块，只需要带上程序用到的模块，其他的模块就可以被裁剪掉。</p> <p>怎么裁剪JRE呢？并不是说把系统安装的JRE给删掉部分模块，而是“复制”一份JRE，但只带上用到的模块。为此，JDK提供了<code>jlink</code>命令来干这件事。</p> <p><strong>裁剪 JRE 命令：</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-53-1><a id=__codelineno-53-1 name=__codelineno-53-1></a><a href=#__codelineno-53-1><span class=linenos data-linenos="1 "></span></a>jlink<span class=w> </span><span class=se>\</span>
</span><span id=__span-53-2><a id=__codelineno-53-2 name=__codelineno-53-2></a><a href=#__codelineno-53-2><span class=linenos data-linenos="2 "></span></a><span class=w>  </span>--module-path<span class=w> </span>hello.jmod<span class=w> </span><span class=se>\</span>
</span><span id=__span-53-3><a id=__codelineno-53-3 name=__codelineno-53-3></a><a href=#__codelineno-53-3><span class=linenos data-linenos="3 "></span></a><span class=w>  </span>--add-modules<span class=w> </span>java.base,java.xml,hello.world<span class=w> </span><span class=se>\</span>
</span><span id=__span-53-4><a id=__codelineno-53-4 name=__codelineno-53-4></a><a href=#__codelineno-53-4><span class=linenos data-linenos="4 "></span></a><span class=w>  </span>--output<span class=w> </span>jre/
</span></code></pre></div> <p>我们在<code>--module-path</code>参数指定了我们自己的模块<code>hello.jmod</code></p> <p>然后，在<code>--add-modules</code>参数中指定了我们用到的3个模块<code>java.base</code>、<code>java.xml</code>和<code>hello.world</code>，用,分隔</p> <p>最后，在<code>--output</code>参数指定输出目录</p> <p><strong>运行裁剪后的 JRE：</strong></p> <p>在当前目录下，我们可以找到<code>jre</code>目录，这是一个完整的并且带有我们自己<code>hello.jmod</code>模块的JRE</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-54-1><a id=__codelineno-54-1 name=__codelineno-54-1></a><a href=#__codelineno-54-1><span class=linenos data-linenos="1 "></span></a>jre/bin/java<span class=w> </span>--module<span class=w> </span>hello.world
</span></code></pre></div> <p>要分发我们自己的Java应用程序，只需要把这个<code>jre</code>目录打个包给对方发过去，对方直接运行上述命令即可，既不用下载安装JDK，也不用知道如何配置我们自己的模块，极大地方便了分发和部署。</p> <hr> <h3 id=95>9.5 访问权限控制<a class=headerlink href=#95 title="Permanent link">&para;</a></h3> <p>class的这些访问权限只在一个模块内有效，模块和模块之间，例如，a模块要访问b模块的某个class，必要条件是b模块明确地导出了可以访问的包。</p> <p>我们编写的模块<code>hello.world</code>用到了模块<code>java.xml</code>的一个类<code>javax.xml.XMLConstants</code>，我们之所以能直接使用这个类，是因为模块<code>java.xml</code>的<code>module-info.java</code>中声明了若干导出：</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-55-1><a id=__codelineno-55-1 name=__codelineno-55-1></a><a href=#__codelineno-55-1><span class=linenos data-linenos="1 "></span></a><span class=n>module</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>xml</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-55-2><a id=__codelineno-55-2 name=__codelineno-55-2></a><a href=#__codelineno-55-2><span class=linenos data-linenos="2 "></span></a><span class=w>    </span><span class=n>exports</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>xml</span><span class=p>;</span>
</span><span id=__span-55-3><a id=__codelineno-55-3 name=__codelineno-55-3></a><a href=#__codelineno-55-3><span class=linenos data-linenos="3 "></span></a><span class=w>    </span><span class=n>exports</span><span class=w> </span><span class=n>javax</span><span class=p>.</span><span class=na>xml</span><span class=p>.</span><span class=na>catalog</span><span class=p>;</span>
</span><span id=__span-55-4><a id=__codelineno-55-4 name=__codelineno-55-4></a><a href=#__codelineno-55-4><span class=linenos data-linenos="4 "></span></a><span class=w>    </span><span class=n>exports</span><span class=w> </span><span class=n>javax</span><span class=p>.</span><span class=na>xml</span><span class=p>.</span><span class=na>datatype</span><span class=p>;</span>
</span><span id=__span-55-5><a id=__codelineno-55-5 name=__codelineno-55-5></a><a href=#__codelineno-55-5><span class=linenos data-linenos="5 "></span></a><span class=w>    </span><span class=p>...</span>
</span><span id=__span-55-6><a id=__codelineno-55-6 name=__codelineno-55-6></a><a href=#__codelineno-55-6><span class=linenos data-linenos="6 "></span></a><span class=p>}</span>
</span></code></pre></div> <p>模块默认<strong>不导出</strong>任何包，要允许其他模块访问，需在 <code>module-info.java</code> 中使用 <code>exports</code>：</p> <div class="language-java highlight"><span class=filename>Java</span><pre><span></span><code><span id=__span-56-1><a id=__codelineno-56-1 name=__codelineno-56-1></a><a href=#__codelineno-56-1><span class=linenos data-linenos="1 "></span></a><span class=n>module</span><span class=w> </span><span class=n>hello</span><span class=p>.</span><span class=na>world</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-56-2><a id=__codelineno-56-2 name=__codelineno-56-2></a><a href=#__codelineno-56-2><span class=linenos data-linenos="2 "></span></a><span class=w>    </span><span class=n>exports</span><span class=w> </span><span class=n>com</span><span class=p>.</span><span class=na>itranswarp</span><span class=p>.</span><span class=na>sample</span><span class=p>;</span>
</span><span id=__span-56-3><a id=__codelineno-56-3 name=__codelineno-56-3></a><a href=#__codelineno-56-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-56-4><a id=__codelineno-56-4 name=__codelineno-56-4></a><a href=#__codelineno-56-4><span class=linenos data-linenos="4 "></span></a><span class=w>    </span><span class=n>requires</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>xml</span><span class=p>;</span>
</span><span id=__span-56-5><a id=__codelineno-56-5 name=__codelineno-56-5></a><a href=#__codelineno-56-5><span class=linenos data-linenos="5 "></span></a><span class=p>}</span>
</span></code></pre></div> <p>因此，模块进一步隔离了代码的访问权限。</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2025年5月31日 00:12:29 CST">2025年5月31日 00:12:29</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2025年5月31日 00:12:29 CST">2025年5月31日 00:12:29</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2025 路人蛃 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=\img\qq.png target=_blank rel=noopener title="contact with me!" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704"/></svg> </a> <a href="https://space.bilibili.com/382127786?spm_id_from=333.337.0.0" target=_blank rel=noopener title="subscribe to me!" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0q13.2 0 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0q13.2 0 21.9 8.603c5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1m-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8s9.7-14.3 10.1-23.5zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5s-17.5-3.2-23.6-9.5-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2s13.2-9.6 23.3-10c9.2.4 17 3.7 23.3 10m191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2s-14 9.5-23.6 9.5-17.4-3.2-23.6-9.5c-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2s14.1-9.6 23.3-10c9.2.4 17 3.7 23.3 10"/></svg> </a> <a href=https://blog.csdn.net/2403_87432910 target=_blank rel=noopener title="visit my csdn blog!" class=md-social__link> <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t=1748544392343 class=icon viewbox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg p-id=1507 xmlns:xlink=http://www.w3.org/1999/xlink width=200 height=200><path d="M0 0h1024v1024H0z" fill=#FF6633 p-id=1508></path><path d="M698.9824 42.3936c-158.8736-32.5632-289.536 31.2832-324.9152 48.5888-94.72 46.2848-147.712 108.288-174.4896 140.288-25.9584 31.0272-82.7392 105.9328-108.288 215.8592-21.6576 93.1328-10.752 167.7824-6.0416 194.2528 11.4688 64.3072 33.28 186.88 150.4256 275.2 132.5056 99.8912 293.4784 85.5552 342.9888 80.9472 107.264-10.0352 289.4848-57.2928 300.8512-145.7152 5.1712-39.936-24.4224-89.4464-66.2016-102.5024-65.6384-20.5312-108.3392 63.5392-228.6592 80.9472-8.5504 1.2288-126.5664 16.6912-216.6272-48.5888-105.8816-76.6976-98.9696-211.3024-96.256-264.3968 1.536-30.5664 5.5808-93.5424 48.128-161.8944 14.7968-23.7568 60.3136-94.5664 156.4672-134.912 25.2928-10.5984 76.8512-31.5904 144.4352-26.9824 70.0416 4.7616 120.9856 34.5088 144.4352 48.5888 75.8272 45.4144 86.528 90.0608 120.3712 86.3232 35.8912-3.9424 69.9904-59.2896 66.2016-107.9296-7.424-93.7984-155.5968-158.1056-252.8256-178.0736z" fill=#FFFFFF p-id=1509></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tabs.link", "header.autohide", "navigation.tracking", "navigation.tabs", "navigation.top", "navigation.path", "navigation.indexes", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=../../../js/mathjax.js></script> <script src=../../../js/extra.js></script> <script src=https://cn.vercount.one/js></script> <script src=https://cn.vercount.one/js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src=https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>